getTemplate_uiControl44_SyTNfN: "import { back } from 'appRenderer';\nvar HeaderCustom = React.createClass({\n  click:function(){                                \n    var callBack = this.props.customHandler;          \n    if(callBack) {                                    \n      callBack({\n        eventType:'click'                         \n      })\n    }\n  },\n\trender(){\n    var _this=this;\n  \treturn(\n    \t<header className=\"navbar navbar-primary header\" style={{background:\"#0a73cc\"}}>\n        <h2 className=\"navbar-title navbar-center\">{this.props.customData}</h2>\n        <div className=\"navbar-nav navbar-left\">\n          <a onClick={_this.click}className=\"navbar-nav-item\">\n            <span className=\"navbar-nav-title\"></span>\n            <span className=\"icon icon-left-nav navbar-icon\"></span>\n          </a>\n        </div>\n      </header>\n    )\n  }\n})\n\nmodule.exports = HeaderCustom;\n"
getData_control58_av3IDC: >-
  ;if (!elem) {
    return false;
  }

  //console.log(elem)

  return
  elem.ownerDocument.querySelector('.breadcrumb').querySelector('span').textContent.replace(/\s+/g,
  '');
doAction_uiControl44_SyTNfN: |-
  if (data.eventType == 'click') {
    elem.ownerDocument.querySelector('#_easyui_tree_8').click();
    ysp.appMain.showLoading();
    setTimeout(function () {
      ysp.appMain.hideLoading();
    }, 2000);
  }
getTemplate_uiControl45_lBsT0h: "import {Component} from 'react';\nexport default class extends Component{\n  constructor(){\n    super();\n    this.state={\n      show:false,\n      detail:false\n    }\n    this.item = {};\n  }\n  onClick(str,e){\n    var _this = this;\n    var handler = _this.props.customHandler;\n    if(handler){\n      handler({\n        data:str,\n        eventType:'click'\n      })\n    handler({\n\t   eventType:'section-trigger',\n\t  data:'control10_Tvwwvz'\n\t })\n\n      \n    }\n    if(str == '同意'){\n      var evt = new Event('ysp-select');\n      evt.value = e;\n      window.dispatchEvent(evt);\n      \n    }\n  }\n  checkDetail(e){\n     var handler = this.props.customHandler;\n    var row = e.target.dataset.row;\n    if(handler){\n      handler({\n        data:row,\n        eventType:'checkdetail'\n      })\n    }\n  }\n   preview(e){\n     var _target;\n    if(e.target.className=='file'){\n      _target = e.target;\n    }\n     else if(e.target.tagName=='I'){\n       _target = e.target.parentElement;\n     }\n     else if(e.target.className=='center'){\n      _target = e.target.parentElement;    \n     }\n     else if(e.target.className=='right'){\n      _target = e.target.parentElement;    \n     }\n     else if(e.target.parentElement.className=='center'){\n        _target = e.target.parentElement.parentElement; \n     }\n     else if(e.target.parentElement.className=='right'){\n        _target = e.target.parentElement.parentElement; \n     }\n    var _this = this;\n    var handler = _this.props.customHandler;\n     //debugger;\n    if(handler){\n      handler({\n        data:{\n          url:_target.getAttribute('data-src'),\n          text:_target.getAttribute('data-title'),\n          type:_target.getAttribute('data-type')\n        },\n        eventType:'preview'\n      })\n    }\n  }\n  showHid(ysp, e){\n    if(e.target.className != 'show-btn-common'){\n              e.target = e.target.parentElement;\n            }\n            if(e.target.parentElement.classList.contains('show-true')){\n              e.target.parentElement.className = ysp + ' show-false';\n              e.target.querySelector('.text').textContent = '显示更多内容';\n              e.target.querySelector('i').className = 'icon-true';\n            }else{\n              e.target.parentElement.className = ysp + ' show-true';\n              e.target.querySelector('.text').textContent = '收起全部内容';\n               e.target.querySelector('i').className = 'icon-false';\n            }\n  }\n  Basic(){\n    var _this = this;\n    var Basic = this.props.customData.Basic;\n    return (\n    \t<div className ='ysp-Basic show-false'>\n        <span className = 'icon-title'> 基本信息</span>\n      \t<ul className='Basic'>\n        \t{Basic && Basic.map((item,index)=>{\n            return (\n            \t<li>{item.title.map((d,i)=>{\n                  return (\n                  <div>\n                    <div className='title'>{item.title[i]}</div><div className='content'>{item.content[i]}</div>\n                    </div>\n                  )\n                })}</li>\n            )\n          })}\n        </ul>\n        <div className='show-btn-common' onClick={(e)=>{this.showHid('ysp-Basic',e)}}><i className='icon-true'></i><div className = 'text'>显示更多内容</div></div>\n      </div>\n    )\n  }\n  expense(){\n    var _this = this;\n    var expense = this.props.customData.expense;\n    return(\n    \t<div className = 'ysp-loan show-false'>\n        <span className = 'icon-title'> 报销信息</span>\n      \t<ul className = 'loan'>\n        \t{expense && expense.map((item,index)=>{\n            return(\n            \t<li>{item.title && item.title.map((d,i)=>{\n                  return(\n                  \t<div><div className='title'>{item.title[i]}</div><div className='content'>{item.content[i]}</div></div>\n                  )\n                })}</li>\n            )\n          })\n            \n          }\n        </ul>\n         <div className='show-btn-common' onClick={(e)=>{this.showHid('ysp-loan',e)}}><i className='icon-true'></i><div className = 'text'>显示更多内容</div></div>\n      </div>\n    )\n  }\n  detail(){\n     var _this = this;\n    var detail = this.props.customData.detail;\n    var title = detail.title;\n    var content = detail.content;\n    var total = detail.total;\n    return(\n      <div>\n    \t<div className = 'ysp-cashier show-false'>\n        <span className = 'icon-title'> 报账明细</span>\n      \t<div>\n        \t{content && content.map((item,index)=>{\n            return(\n              <div>\n                <div className=\"detailTitle\" data-row={index} onClick={_this.checkDetail.bind(_this)}>{item[0]}</div>\n            \t<ul className = 'cashier'>{item && item.map((d,i)=>{\n                  return(\n                  \t<li><div><div className='title'>{title[i]}</div><div className='content'>{d}</div></div></li>\n                  )\n                })}</ul>\n              </div>\n            )\n          })\n            \n          }\n        </div>\n         <div className='show-btn-common' onClick={(e)=>{this.showHid('ysp-cashie',e)}}><i className='icon-true'></i>\n           <div className = 'text'>显示更多内容</div>\n        </div>\n        \n      </div>\n        <ul className = 'cashier'>\n          {total && total.map((item,index)=>{\n            return(\n            \t<li>\n                {index == 0 && <div><div className='title'>种类</div><div className='content'>{\"合计\"}</div></div>}\n                {index > 0 && <div><div className='title'>{title[index+1]}</div><div className='content'>{item}</div></div>}\n                  \t \n            \t</li>\n            )\n          })\n            \n          }\n        </ul>\n        </div>\n      \n    )\n  }\n  cashier(){\n    var _this = this;\n    var cashier = this.props.customData.cashier;\n    return(\n    \t<div className = 'ysp-cashier show-false'>\n        <span className = 'icon-title'> 收款信息</span>\n      \t<ul className = 'cashier'>\n        \t{cashier && cashier.map((item,index)=>{\n            return(\n            \t<li>{item.title && item.title.map((d,i)=>{\n                  return(\n                  \t<div><div className='title'>{item.title[i]}</div><div className='content'>{item.content[i]}</div></div>\n                  )\n                })}</li>\n            )\n          })\n            \n          }\n        </ul>\n         <div className='show-btn-common' onClick={(e)=>{this.showHid('ysp-cashier',e)}}><i className='icon-true'></i><div className = 'text'>显示更多内容</div></div>\n      </div>\n    )\n  }\n  FileList(){\n    var _this = this;\n    var file = this.props.customData.file;\n    return(\n    \t<div className='ysp-file'>\n        <span className = 'icon-title'> 附件</span>{\n          file && file.map((item,index)=>{\n            return(\n            \t<div onClick={_this.preview.bind(_this)} data-src={item.href} data-title={item.title} data-type={item.type2} data-index={index} className = 'file'>\n                <i className='icon'></i>\n                <div className='center'><div>{item.title}</div><div>附件类型:{item.type}</div></div>\n                <div className='right'><div>上传时间</div><div>{item.time}</div></div>\n              </div>\n            )\n          })\n        }</div>\n    )\n  }\n  approvalTr(){\n    var _this = this;\n    var approvalTr = this.props.customData.approval;\n    return(\n    \t<div className='ysp-approvalTr'>\n        <span className = 'icon-title'> 审批记录</span>\n      \t{approvalTr && approvalTr.map((item,idnex)=>{\n          return(\n          \t<div className='approvalTr'>\n              <div className = 'left'>\n                <div><span>{item.segment}</span><span>{item.people}</span></div>\n                <div><span>处理时间</span><span>{item.endTime}</span></div>\n              </div>\n                <div className = 'right'>\n              \t\t<span>{item.fruit}</span><span>{item.fruit ? '|':''}</span>{item.fruit ? <span className = 'clickIcon' onClick={(e)=>{\n                        _this.setState({\n                          detail:!_this.state.detail\n                        })\n                        _this.item = {\n                          segment:item.segment,\n                          people: item.people,\n                          beforTime: item.beforTime,\n                          endTime: item.endTime,\n                          fruit: item.fruit,\n                          idea: item.idea\n                        }\n                      }}></span> :''}\n              \t</div>\n            </div>\n          )\n        })}\n        {_this.state.detail && \n          <div className='fixed-segment'>\n          \t<div>\n            \t<ul className = 'cashier'>\n                 <span className = 'icon-title'>{_this.item.segment}</span>\n            \t\t<li>\n                  <div>\n                    <div className='title'>审批人</div>\n                    <div className='content'>{_this.item.people}</div>\n                  </div>\n                </li>\n                <li>\n                  <div>\n                    <div className='title'>接收时间</div>\n                    <div className='content'>{_this.item.beforeTime}</div>\n                  </div>\n                </li>\n                <li>\n                  <div>\n                    <div className='title'>处理时间</div>\n                    <div className='content'>{_this.item.endTime}</div>\n                  </div>\n                </li>\n                <li>\n                  <div>\n                    <div className='title'>审批结果</div>\n                    <div className='content'>{_this.item.fruit}</div>\n                  </div>\n                </li>\n                <li>\n                  <div>\n                    <div className='title'>审批意见</div>\n                    <div className='content'>{_this.item.idea}</div>\n                  </div>\n                </li>\n        \t\t\t</ul>\n              <ul className='two-ul'>\n                <li onClick={(e)=>{\n                    _this.setState({\n                      detail:false\n                    })\n                  }}>取消</li>\n              </ul>\n            </div>\n          </div>}\n      </div>\n    )\n  }\n  render(){\n    var _this = this;\n    var data = this.props.customData;\n    if(data){\n      \n   \n      return (\n        <div className = 'ysp-Detail'>\n          {_this.Basic()}\n          {_this.expense()}\n          {_this.detail()}\n          {_this.cashier()}\n          {_this.FileList()}\n          {_this.approvalTr()}\n          {data.submit==\"agree\" && \n          <div className='commit'>\n            \n            <button onClick={_this.onClick.bind(_this,'退回')}>退回</button>\n            <button onClick={_this.onClick.bind(_this,'同意')}>同意</button>\n            <i style={{display:'none'}} onClick={(e)=>{\n                          _this.setState({\n                            show:!_this.state.show\n                          })\n                        }}>:</i>\n          </div>\n            }\n          {data.submit==\"submit\" && \n             <div className='commit'>\n            \n            <button onClick={_this.onClick.bind(_this,'提交')}>提交</button>\n           \n          \n          </div>\n          }\n          {_this.state.show && \n            <div className = 'fixed-btn'>\n              <div>\n                <ul>\n                <li onClick={_this.onClick.bind(_this,'同意')}>同意</li>\n                <li onClick={_this.onClick.bind(_this,'转办')}>转办</li>\n                <li onClick={_this.onClick.bind(_this,'退回')}>退回</li>\n              </ul>\n              <ul className='two-ul'>\n                <li onClick={(e)=>{\n                    _this.setState({\n                      show:false\n                    })\n                  }}>取消</li>\n              </ul>\n              </div>\n            </div>}\n        </div>\n      )\n     }else{\n      return <div> </div>\n    }\n  }\n}"
getData_control59_EwCmMI: ";if (!elem) {\n  return false;\n}\n\nfunction TotalText(present, variable) {\n  variable.title = [];\n  variable.content = [];\n\n  if (present.querySelector('td') && present.querySelector('th')) {\n    var TH = present.querySelectorAll('th');\n\n    for (var i = 0; i < TH.length; i++) {\n      variable.title.push(ysp.customHelper.trim(TH[i].textContent.replace('：', '')));\n    }\n\n    var TD = present.querySelectorAll('td');\n\n    for (var i = 0; i < TD.length; i++) {\n      variable.content.push(ysp.customHelper.trim(TD[i].textContent).replace('：', ''));\n    }\n\n    return variable;\n  } else if (present.querySelector('td') && !present.querySelector('th')) {\n    var TD = present.querySelectorAll('td');\n\n    for (var i = 0; i < TD.length; i++) {\n      if (i % 2 == 0 && !TD[i].querySelector('b')) {\n        variable.title.push(ysp.customHelper.trim(TD[i].textContent).replace('：', ''));\n      } else {\n        if (TD[i].querySelector('input') && !TD[i].querySelector('b')) {\n           if(TD[i].querySelector('#empName')){\n            variable.content.push(TD[i].querySelector('#empName').textContent.trim());\n          }else{\n            \n            var r = TD[i].querySelectorAll('input[type=radio]');\n            var radioIndex = '';\n            if(r.length > 0){\n              if(r[0].checked){\n                radioIndex = r[0];\n              }\n              if(r[1].checked){\n                radioIndex = r[1];\n              }\n              variable.content.push(radioIndex.nextSibling.textContent.trim());\n            }else{\n              variable.content.push(TD[i].querySelector('input').value);\n            }\n          }\n        } else {\n         \tif(TD[i].querySelector('select')){\n            var ind = TD[i].querySelector('select').selectedIndex;\n            variable.content.push(TD[i].querySelector('select').options[ind].textContent);\n          }else{\n         \t variable.content.push(TD[i].textContent !== '' ? ysp.customHelper.trim(TD[i].textContent.replace('：', '')) : '');\n          }\n        }\n      }\n    }\n\n    return variable;\n  }\n}\nvar data = {\n  Basic: [],\n  //基本信息 \n  expense: [],\n  // 报销信息\n  detail: {title:[],content:[],total:[]},\n  //报账明细\n  cashier: [],\n  //收款信息\n  file: [],\n  //附件\n  approval: [], //审批记录\n\tsubmit:''\n}; //基本信息采集\nvar TrText = [];\nvar Total = elem.querySelectorAll('table');\n[].forEach.call(Total, function (d, i) {\n  if (i == 0) {\n    var BasicTr = d.querySelectorAll('tr');\n    [].forEach.call(BasicTr, function (item, index) {\n      if (ysp.customHelper.trim(item.textContent) !== '') {\n        \n          var TRContent = {};\n          data.Basic.push(TotalText(item, TRContent));\n        \n      }\n    });\n  } //付款信息\n\n\n  if (i == 1) {\n    var loan = d.querySelectorAll('tr');\n    [].forEach.call(loan, function (item, index) {\n      if(item.style.display != 'none'){\n        if (ysp.customHelper.trim(item.textContent) !== '') {\n          var TRContent = {};\n          data.expense.push(TotalText(item, TRContent));\n        }\n      }\n      \n    });\n  } //报销信息\n  \n  if (i == 2) {\n    var detail = d.querySelectorAll('tr');\n    [].forEach.call(detail, function (item, index) {\n      if (ysp.customHelper.trim(item.textContent) !== '') {\n        if(index == 0){\n          var TH = item.querySelectorAll('th');\n          for(var a = 0; a < TH.length; a++){\n            data.detail.title.push(TH[a].textContent.trim());\n          }\n          \n        }else{\n          var TD = item.querySelectorAll('td');\n          var tdArr = [];\n          for(var b = 0; b < TD.length; b++){\n            if(b < TD.length-1){\n              tdArr.push(TD[b].textContent.trim());\n            }           \n          }\n          data.detail.content.push(tdArr);\n        }\n      }\n    });\n  } //报账明细\n  \n  if (i == 4) {\n    var detailTotal = d.querySelectorAll('tr');\n    [].forEach.call(detailTotal, function (item, index) {\n      if (ysp.customHelper.trim(item.textContent) !== '') {\n          var TD = item.querySelectorAll('td');\n          for(var b = 0; b < TD.length; b++){\n            TD[b].textContent.trim() && data.detail.total.push(TD[b].textContent.trim());\n          }\n      }\n    });\n  } //报账明细总计\n\n\n  if (i == 5) {\n    var cashier = d.querySelectorAll('tr');\n    [].forEach.call(cashier, function (item, index) {\n      if (ysp.customHelper.trim(item.textContent) !== '') {\n        var TRContent = {};\n        data.cashier.push(TotalText(item, TRContent));\n      }\n    });\n  }//收款信息\n}); \n//附件\nvar f1 = elem.querySelector('#attachmentList').querySelectorAll('tbody')[1].querySelectorAll('tr');\nvar fArr = [];\nfor(var f = 0; f< f1.length; f++){\n  var a = f1[f].querySelectorAll('a');\n  if(a.length == 1){\n    fArr.push(a[0]);\n  }\n  if(a.length == 2){\n    fArr.push(a[1]);\n  }\n}\nvar FileA = fArr; //elem.querySelector('#attachmentList').querySelectorAll('a');\n\n\nfor (var i = 0, total = {}; i < FileA.length; i++) {\n  data.file.push(total = {\n    title: FileA[i].textContent,\n    href: FileA[i].href,\n    time: FileA[i].parentElement.nextElementSibling.textContent,\n    type: FileA[i].parentElement.previousElementSibling.textContent,\n    type2:FileA[i].textContent.match(/\\..*/)\n  });\n} //审批记录\nvar approvalTr = elem.querySelector('#approvalLink').querySelector('#lineTable').querySelectorAll('tr');\nfor (var i = 0, total = {}; i < approvalTr.length; i++) {\n  data.approval.push(total = { \n    segment: approvalTr[i].querySelectorAll('td')[0].textContent,\n    people: approvalTr[i].querySelectorAll('td')[1].textContent,\n    beforTime: approvalTr[i].querySelectorAll('td')[2].textContent,\n    endTime: approvalTr[i].querySelectorAll('td')[3].textContent,\n    fruit: approvalTr[i].querySelectorAll('td')[4].textContent,\n    idea: approvalTr[i].querySelectorAll('td')[5].textContent\n  });\n}\nvar inputs = elem.ownerDocument.querySelector('.fixdTable').querySelector('tbody').querySelectorAll('input');\n\nfor(var m0 = 0; m0 < inputs.length; m0++){\n  if(inputs[m0].value == \"提 交\"){\n     if(inputs[m0].parentElement.style.display != 'none'){\n    \t\tdata.submit = 'submit';\n  \t}\n  }\n   if(inputs[m0].value == \"同意\"){\n     if(inputs[m0].parentElement.style.display != 'none'){\n    \t\tdata.submit = 'agree';\n  \t}\n  }\n \n}\nreturn data;"
doAction_uiControl45_lBsT0h: "if (data.eventType == 'click') {\n  if (data.dataCustom == '退回') {\n    \n    elem.ownerDocument.querySelector('#leadershipApproval2').querySelectorAll('input')[1].click();\n    ysp.appMain.showLoading();\n    setTimeout(function () {\n      ysp.appMain.hideLoading();\n    }, 2000);\n  }\n\n  if (data.dataCustom == '同意') {\n    var evt = new Event('click');\n    elem.ownerDocument.querySelector('#leadershipApproval1').querySelector('input').dispatchEvent(evt);\n    elem.ownerDocument.defaultView.submit2.call(elem.ownerDocument.defaultView, evt);\n    ysp.appMain.showLoading();\n    setTimeout(function () {\n      ysp.appMain.hideLoading();\n    }, 2000);\n  }\n\n  if (data.dataCustom == '转办') {\n    elem.ownerDocument.querySelector('#leadershipApproval2').querySelector('input').click();\n    ysp.appMain.showLoading();\n    setTimeout(function () {\n      ysp.appMain.hideLoading();\n    }, 3000);\n  }\n  \n    if (data.dataCustom == '提交') {\n    var evt = new Event('click');\n      var drf1 = elem.ownerDocument.querySelector('#draftSave');\n      var drf2 = elem.ownerDocument.querySelector('#draftSave2');\n    drf1 ? drf1.querySelectorAll('input')[1].dispatchEvent(evt) : drf2.querySelector('input').dispatchEvent(evt);\n    // elem.ownerDocument.defaultView.submit2.call(elem.ownerDocument.defaultView, evt);\n    ysp.appMain.showLoading();\n    setTimeout(function () {\n      ysp.appMain.hideLoading();\n    }, 2000);\n  }\n}\nif(data.eventType == 'checkdetail'){\n  var a = elem.querySelectorAll('table')[2].querySelectorAll('tr')[+data.dataCustom+1].querySelectorAll('a')[0];\n  debugger;\n  console.log(+data.dataCustom+1);\n  \n\tif(a.textContent.indexOf('查看')>-1) {\n    a.click()\n  }\n    \n}\n// if (data.eventType == 'preview') {\n//   debugger;\n//   var _url = data.dataCustom.url;\n//    var text = data.dataCustom.text;\n//    var type = data.dataCustom.type.replace(/\\./,\"\");\n  \n//     var cook = elem.ownerDocument.cookie;\n   \n//     var options = {\n//       extInfo: \"\",\n//       type: \"document\",\n//       downloadType: \"get\",\n//       docName: text, \n//       docType: type,\n//       downloadUrl: _url,\n//       downloadHttpHeaders: { cookie: cook }, \n//       uploadUrl: '',\n//       uploadHttpHeaders: { cookie: cook },\n//       uploadHttpParams: []\n//     };\n//     if (ysp.appMain.isIOS()) {\n//         top.EAPI.openWindow(_url + '&_ysp_filepreview=1');\n//       } else {\n//         top.yspUser.openDocument(JSON.stringify(options));\n//        // top.EAPI.openWindow(_url);\n//         // top.location.href=_url;\n        \n// //        elem.ownerDocument.defaultView.open(_url)\n// //         top.open(_url)\n// //       try{\n// //         var fileDom=elem.ownerDocument.createElement(\"a\");\n// //         fileDom.setAttribute(\"download\",'');\n// //         fileDom.href=_url;\n// //         setTimeout(function(){\n// //             fileDom.click()\n// //           },100)\n// //         }catch(e){\n\n// //          }\n     \n//     }  \n// }\n\nif (data.eventType == 'preview') {\n  debugger;\n  var _url = data.dataCustom.url;\n   var text = data.dataCustom.text.replace(/-/ig,\"\").replace(/_/ig,\"\");\n   var type = '.'+data.dataCustom.type.replace(/\\./,\"\");\n  // if (ysp.appMain.isAndroid()) {\n  //    //elem.ownerDocument.defaultView.location.href = src;\n  //   \tysp.appMain.openWindow(src)\n  //  } else {\n  //    top.EAPI.openWindow(src + '&_ysp_filepreview=1');\n  //  }\n  \n  \n    var cook = elem.ownerDocument.cookie;\n    //var _url = 'http://10.13.51.99:8088' + data.dataCustom.url;\n    //var text = data.dataCustom.name;\n  \t//var type = data.dataCustom.type;\n    // var options = {\n    //   extInfo: \"\",\n    //   type: \"document\",\n    //   downloadType: \"get\",\n    //   docName: text, \n    //   docType: '.'+ type,\n    //   downloadUrl: _url,\n    //   downloadHttpHeaders: { cookie: cook }, \n    //   uploadUrl: '',\n    //   uploadHttpHeaders: { cookie: cook },\n    //   uploadHttpParams: []\n    // };\n  var options = {\n      docName: '文档', \n      docType: type,\n      downloadUrl: _url,\n    };\n    if (ysp.appMain.isIOS()) {\n        top.EAPI.openWindow(_url + '&_ysp_filepreview=1');\n      } else {\n       // ysp.appMain.openDocument(options);\n       // top.EAPI.openWindow(_url);\n        // top.location.href=_url;\n        console.log(JSON.stringify(options));\n        top.yspUser.openDocument(JSON.stringify(options));\n       // elem.ownerDocument.defaultView.open(_url)\n        //top.open(_url)\n//   try{\n//     var fileDom=elem.ownerDocument.createElement(\"a\");\n//     fileDom.setAttribute(\"download\",'');\n//     fileDom.href=_url;\n//     setTimeout(function(){\n//         fileDom.click()\n//       },100)\n//   \t}catch(e){\n\n//  \t\t }\n    }  \n}"
getTemplate_uiControl45_216hQV: "module.exports = React.createClass({\n  upload: function(e) {\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'upload'\n      })\n    }\n  },\n  arrow: function(e) {\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'arrow'\n      })\n    }\n  },\n  arrowFile: function(e) {\n    var target = e.target;\n    if(target.getAttribute('class')=='spanArrow'){\n      target.setAttribute('class','spanArrow arr');\n      target.ownerDocument.querySelector('.fileBox').style.display = 'block';\n    }else{\n      target.setAttribute('class','spanArrow');\n      target.ownerDocument.querySelector('.fileBox').style.display = 'none';\n    }\n  },\n  arrowApproval: function(e) {\n    var target = e.target;\n    if(target.getAttribute('class')=='spanArrow'){\n      target.setAttribute('class','spanArrow arr');\n      target.ownerDocument.querySelector('.dropBox').style.display = 'block';\n    }else{\n      target.setAttribute('class','spanArrow');\n      target.ownerDocument.querySelector('.dropBox').style.display = 'none';\n    }\n  },\n  preview: function(e) {\n    var target = e.currentTarget;\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'preview',\n        data:[\n          target.getAttribute('data-href'),\n          target.getAttribute('data-type')\n        ]\n      })\n    }\n  },\n  render: function() {\n    var _this = this;\n    var data = this.props.customData;\n    return (\n      <div className=\"details\">\n       \t<div className=\"detailsHead\">基本信息</div>\n        <ul className=\"detailsContent\">\n        {data.data.map(function(d,i){\n          return(i<6?<li><span className=\"spanTitle\">{d[0]}</span><span className=\"spanContent\">{d[1]}</span></li>:'')\n        })}\n        <li><span className=\"spanTitle\">{data.data[6][0]}</span><span className=\"spanContent\">{data.data[6][1]}</span><span onClick={_this.arrowFile} className=\"spanArrow\"></span></li>\n        <div className=\"fileBox\" style={{'display':'none'}}>\n          {data.file.map(function(d,i){\n            return(<li onClick={_this.preview} data-href={d[3]} data-type={d[2]}><span className={\"spanBg\"+' '+d[0]}></span><span className=\"spanName\">{d[1]}</span></li>)\n          })}\n          {data.upload?<div onClick={_this.upload} className='uploadButton'>增加附件</div>:''}\n        </div>\n        <li><span className=\"spanTitle\">审批记录</span><span className=\"spanContent\"></span><span onClick={_this.arrowApproval} className=\"spanArrow\"></span></li>\n        <div className=\"dropBox\" style={{'display':'none'}}>\n          <div className=\"contentTable1\">\n            <div className=\"detailsTable1\">\n              {data.approval.map(function(d,i){\n                  return(<tr>\n                    <td>{d[1]}</td>\n                    <td>{d[3]}</td>\n                    <td>{d[5]}</td>  \n                  </tr>)  \n              })}\n            </div>\n          </div>\n        </div>\n        </ul>\n      </div>\n    )\n  }\n});"
getData_control59_MOBJiQ: |-
  ;if(elem){
    var data={};
    data.data=[];
    data.file=[];
    data.approval=[];
    var basic1 = elem.querySelectorAll('.input_table')[3];
    var basic2 = elem.querySelectorAll('.input_table')[5];
    // var basic3 = elem.querySelector('#detailTable');
    // var basicTr3 = basic3.querySelectorAll('tr');
    var basic4 = elem.querySelector('#attachmentListTbody');
    var approval = elem.querySelector('#approvalLink').querySelector('table');
    data.data[0] = ['报销人',basic1.querySelectorAll('tr')[1].children[3].textContent.replace(/\s+/g, '')+'-'+basic1.querySelectorAll('tr')[3].children[1].textContent.replace(/\s+/g, '')];
    data.data[1] = ['创建日期',basic1.querySelectorAll('tr')[2].children[3].textContent.replace(/\s+/g, '')];
    data.data[2] = ['报销类型','部门费用'+'-差旅费'];
    data.data[3] = ['单据号',basic1.querySelectorAll('tr')[2].children[1].textContent.replace(/\s+/g, '')];
    if(basic2.querySelectorAll('tr')[0].querySelectorAll('td')[1].querySelector('input')){
      data.data[4] = ['说明',basic2.querySelectorAll('tr')[0].querySelectorAll('td')[1].querySelector('input').value];
    }else{
      data.data[4] = ['说明',basic2.querySelectorAll('tr')[0].querySelectorAll('td')[1].textContent.replace(/\s+/g, '')];
    }
    if(elem.querySelector('#sumAmount').textContent.substr(1,elem.querySelector('#sumAmount').textContent.length).replace(/\s+/g, '')==''){
      data.data[5] = ['报销金额','0元'];
    }else{
      data.data[5] = ['报销金额',elem.querySelector('#sumAmount').textContent.substr(1,elem.querySelector('#sumAmount').textContent.length).replace(/\s+/g, '')+'元'];
    }
    data.data[6] = ['报销凭证',basic4.querySelectorAll('tr').length+'张'];
    for(var i=0;i<basic4.querySelectorAll('tr').length;i++){
      if(basic4.querySelectorAll('tr')[i].querySelectorAll('a').length>1){
        if(basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('jpg')>-1||basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('png')>-1||basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('jpeg')>-1||basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('JPG')>-1||basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('JPEG')>-1||basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('PNG')>-1){
          data.file[i]=['jpg',basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.replace(/\s+/g, '')];
        }else if(basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('pdf')>-1){
          data.file[i]=['pdf',basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.replace(/\s+/g, '')];
        }else if(basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.indexOf('doc')>-1){
          data.file[i]=['word',basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.replace(/\s+/g, '')];
        }else{
          data.file[i]=['jpg',basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.replace(/\s+/g, '')];
        }
        data.file[i][2]=basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].textContent.replace(/\s+/g, '').match(/\..*/);
        data.file[i][3]=basic4.querySelectorAll('tr')[i].querySelectorAll('a')[1].href;
      }else{
        if(basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('jpg')>-1||basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('png')>-1||basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('jpeg')>-1||basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('JPEG')>-1||basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('JPG')>-1||basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('jpeg')>-1){
          data.file[i]=['jpg',basic4.querySelectorAll('tr')[i].querySelector('a').textContent.replace(/\s+/g, '')];
        }else if(basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('pdf')>-1){
          data.file[i]=['pdf',basic4.querySelectorAll('tr')[i].querySelector('a').textContent.replace(/\s+/g, '')];
        }else if(basic4.querySelectorAll('tr')[i].querySelector('a').textContent.indexOf('doc')>-1){
          data.file[i]=['word',basic4.querySelectorAll('tr')[i].querySelector('a').textContent.replace(/\s+/g, '')];
        }else{
          data.file[i]=['jpg',basic4.querySelectorAll('tr')[i].querySelector('a').textContent.replace(/\s+/g, '')];
        }
        data.file[i][2]=basic4.querySelectorAll('tr')[i].querySelector('a').textContent.replace(/\s+/g, '').match(/\..*/);
        data.file[i][3]=basic4.querySelectorAll('tr')[i].querySelector('a').href;
      }   
    }
    if(elem.querySelector('#commonAttachmentFileDoc')){
      data.upload = true;
    }else{
      data.upload = false;
    }
    for(var i=0;i<approval.querySelectorAll('tr').length;i++){
      if(i==0){
        var ths = [];
        for(var j=0;j<approval.querySelectorAll('tr')[i].querySelectorAll('th').length;j++){
          ths.push(approval.querySelectorAll('tr')[i].querySelectorAll('th')[j].textContent.replace(/\s+/g, ''));  
        }
        data.approval.push(ths);
      }else{
        var tds = [];
        for(var j=0;j<approval.querySelectorAll('tr')[i].querySelectorAll('td').length;j++){
          if(approval.querySelectorAll('tr')[i].querySelectorAll('td')[j].querySelectorAll('input').length>0&&j!=0){
            tds.push(approval.querySelectorAll('tr')[i].querySelectorAll('td')[j].querySelectorAll('input')[0].value);
          }else if(approval.querySelectorAll('tr')[i].querySelectorAll('td')[j].querySelectorAll('select').length>0){
            tds.push(approval.querySelectorAll('tr')[i].querySelectorAll('td')[j].querySelectorAll('select')[0].querySelectorAll('option')[approval.querySelectorAll('tr')[i].querySelectorAll('td')[j].querySelectorAll('select')[0].selectedIndex].textContent);
          }else{
            tds.push(approval.querySelectorAll('tr')[i].querySelectorAll('td')[j].textContent);
          }
        }
        data.approval.push(tds);
      }
    }
    return data;
  }
doAction_uiControl45_216hQV: "if(data.eventType=='upload'){\n  elem.querySelector('#commonAttachmentFileDoc').click();\n  var uploadTimer = setInterval(function(){\n    if(elem.querySelector('#commonAttachmentFileDoc').value.length>0){\n      elem.querySelector('#attSubmit').click();\n      clearInterval(uploadTimer);\n  \t}\n  },1000)\n}else if (data.eventType == 'preview'){\n  var _url = data.dataCustom[0];\n  var type = '.'+data.dataCustom[1].replace(/\\./,\"\");\n  var options = {\n      docName: '文档', \n      docType: type,\n      downloadUrl: _url,\n  };\n  if (ysp.appMain.isIOS()) {\n      top.EAPI.openWindow(_url+ '?_ysp_filepreview=1');\n    // var jsonStr = {\n    //   \"type\" : \"document\",\n    //   \"downloadUrl\" : _url,\n    //   \"downloadHttpHeaders\" : {},\n    //   \"downloadHttpParams\" : [],\n    //   \"downloadType\" : \"get\",\n    //   \"docName\" : \"image.jpeg\",\n    //   \"docType\" : type \n    // };\n    // alert(jsonStr);\n    // alert(1);\n    // top.EAPI.openDocument(JSON.stringify(jsonStr));\n    // alert(2);\n  } else {    \n      console.log(JSON.stringify(options));\n      top.yspUser.openDocument(JSON.stringify(options));\n  } \n}"
getTemplate_uiControl57_aecEHU: |-
  module.exports = React.createClass({
    save: function(e) {
      var handler = this.props.customHandler;
      if(handler){
        handler({
          eventType:'save'
        })
      }
    },
    submit: function(e) {
      var handler = this.props.customHandler;
      if(handler){
        handler({
          eventType:'submit'
        })
        handler({
         eventType:'section-trigger',
         data:'control72_Oe1hBd'
       })
      }
    },
    render: function() {
      var _this = this;
      var data = this.props.customData||[];
      return (
        data.length>0?
        <div className="bottomButton">
          <li onClick={_this.save}>{data[0]}</li>
          <li onClick={_this.submit}>{data[1]}</li>
        </div>
        :''
      )
    }
  });
getData_control71_JsLTmr: ";\n;var data = [];\nif(elem){\n  if(elem.querySelectorAll('input')[0].parentNode.style.display!='none'){\n    data.push(elem.querySelectorAll('input')[0].value.replace(/\\s+/g, ''));\n  \tdata.push(elem.querySelectorAll('input')[1].value.replace(/\\s+/g, ''));\n  }\n  \n}\nreturn data;"
doAction_uiControl57_aecEHU: |-
  if(data.eventType=='save'){
    elem.querySelectorAll('input')[0].click();
  }else if(data.eventType=='submit'){
     elem.querySelectorAll('input')[1].click();
  }
getTemplate_uiControl58_JcwHoz: |-
  module.exports = React.createClass({
    change: function(e) {
      var target = e.target;
      var hanlder=this.props.customHandler;
        if(hanlder){ 
          hanlder({
            eventType:"change",
            data:target.selectedIndex
          })
        }
    },
    submit: function() {
      var hanlder=this.props.customHandler;
        if(hanlder){ 
          hanlder({
            eventType:"submit"
          })
        }
    },
    cancel: function() {
      var hanlder=this.props.customHandler;
        if(hanlder){ 
          hanlder({
            eventType:"cancel"
          })
        }
    },
    render: function() {
      var _this = this;
      var data = this.props.customData || [];
      return (
        data.length>0?
        <div className="alertWindow">
          <div className="shadow"></div>
          <div className="alertContent">
            <div className="alertHead">确认提交</div>
            <div>
              <span>{data[0][0]}</span>
              <span>{data[0][1]}</span>
            </div>
            <div>
              <span>{data[1][0]}</span>
            <select onChange={_this.change}>
              {data[1][1].map(function(d,i){
                return(i==data[1][2]?<option selected="selected">{d}</option>:<option>{d}</option>)
              })}
            </select>
            </div>
            <div className="alertButton">
              <li onClick={_this.submit}>{data[2][0]}</li>
              <li onClick={_this.cancel}>{data[2][1]}</li>
            </div>
          </div>
        </div>:''
      )
    }
  });
getData_control72_d94UTb: |
  ;var data=[];
  if(elem){
    data[0]=[elem.querySelectorAll('tr')[0].querySelector('th').textContent.replace(/\s+/g, ''),elem.querySelectorAll('tr')[0].querySelector('td').textContent.replace(/\s+/g, '')];
    var options = elem.querySelectorAll('tr')[1].querySelector('select').querySelectorAll('option');
    var optData = [];
    for(var i=0;i<options.length;i++){
      optData.push(options[i].textContent.replace(/\s+/g, ''));
    }
    data[1]=[elem.querySelectorAll('tr')[1].querySelector('th').textContent.replace(/\s+/g, ''),optData,elem.querySelectorAll('tr')[1].querySelector('select').selectedIndex];
    data[2]=[elem.querySelectorAll('tr')[2].querySelector('td').querySelectorAll('a')[0].textContent.replace(/\s+/g, ''),elem.querySelectorAll('tr')[2].querySelector('td').querySelectorAll('a')[1].textContent.replace(/\s+/g, '')]
    return data;
  }
doAction_uiControl58_JcwHoz: |-
  if(data.eventType=="submit"){
    elem.querySelectorAll('tr')[2].querySelector('td').querySelectorAll('a')[0].click();
  }else if(data.eventType=="change"){
    var index = data.dataCustom;
    elem.querySelectorAll('tr')[1].querySelector('select').value=elem.querySelectorAll('tr')[1].querySelector('select').querySelectorAll('option')[index].value;
    elem.querySelectorAll('tr')[1].querySelector('select').dispatchEvent(new Event('change'));
  }else if(data.eventType=="cancel"){
    elem.querySelectorAll('tr')[2].querySelector('td').querySelectorAll('a')[1].click();
    ysp.appMain.hideLoading();
  }
