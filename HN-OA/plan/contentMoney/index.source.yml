getData_control17_tkt0Az: |
  var data = [];
  var h1 = elem.querySelector("h1").textContent;
  data.push(h1);
  return data;
doAction_uiControl16_sBskBV: >
  //if (data.eventType == "click") {

  //   var lis = elem.querySelectorAll("li");

  //   var index;

  //   for (var i = 0; i < lis.length; i++) {

  //     if (" 退出 " == lis[i].textContent) {

  //       index = i;

  //     }

  //   }

  //   elem.querySelectorAll("li") &&
  elem.querySelectorAll("li")[index].querySelector("a").click();

  //   var elem = elem.ownerDocument;

  //   var dialog =
  $(elem).find('.ui_state_lock').find('table').find('.ui_buttons').find('input').eq(1);

  //   if (dialog.val() == '不保存') {

  //     dialog.click();

  //   }

  //var url =
  "http://59.110.171.69:31044/WebOffice/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf";ysp.appMain.reloadPage(url);

  //}

  elem.ownerDocument.defaultView.close();
getTemplate_uiControl16_sBskBV: |-
  module.exports = React.createClass({
    componentDidMount(){
      var elem = this.refs.toTop.ownerDocument.querySelector(".view-wrapper");
      setTimeout(function(){
        elem.scrollTop=0;
      },500)
    },
    handlerClick(){
      var handler = this.props.customHandler;
      if(handler){
        handler({
          eventType:"click"
        })
      }
    },
    render: function() {
      var data = this.props.customData || [];
      return (
        <div className="ysp-header" ref='toTop'>
          <div onClick={this.handlerClick.bind(this)}></div>
          <div>
            {
              data && data[0]
            }
          </div>
          
        </div>
      )
    }
  });
getData_control18_1NVKE8: >
  var data = [];

  var title = elem.querySelector("input") ? elem.querySelector("input").value :
  elem.textContent;

  data.push(title);

  return data;
doAction_uiControl17_5EDJqF: ''
getTemplate_uiControl17_5EDJqF: |-
  module.exports = React.createClass({
    render: function() {
      var data = this.props.customData;
      return (
        <div className="ysp-content-top">
          {data}
        </div>
      )
    }
  });
getData_control19_LgXBW7: ";if (!elem) {\n  return;\n}\nvar data = {\n  content: [],\n  content2: [],\n  fujian: [],\n  liucheng: [],\n  liuchengNUM: [],\n  commitLZ: [],\n  treeBar: [],\n  selectApar: [],\n  yijian: [],\n  but: [],\n  tuihuiTitle: [],\n  tuihuiTitleFlag: []\n}; //partone 内容开始\nvar yj = elem.ownerDocument.querySelector('textarea[name=\"fldYijian\"]').value;\ndata.content.push(yj);\nvar dls = $(elem).find('#left_panel').find('div.table_blk').find('dl.table_list_blk');\ndls && dls.map(function (j, q) {\n  var obj = {};\n  obj.text = $(q).find('dt').text().replace(/\\:/g, '');\n  ;\n  obj.cont = $(q).find('dd').text();\n  data.content2.push(obj);\n}); //partone 内容结束\n//parttwo附件开始\nvar fujianDls = $(elem).find('.down_table_list').find('#down_table_list_text') && $(elem).find('.down_table_list').find('#down_table_list_text').find('dl');\nif (fujianDls.length != 0) {\n  fujianDls && fujianDls.map(function (j, q) {\n     if( $(q).find('.file_name').find('a').text()!=\"\"){\n     \tvar obj = {};\n    \tvar typePh = $(q).find('.file_name').find('a').text();\n    \tvar typeP = typePh.indexOf('xls') > -1 == true ? 'xls' : typePh.indexOf('ppt') > -1 == true ? 'ppt' : typePh.indexOf('docx') > -1 == true ? 'docx' : '';\n    \tobj.typeP = typeP;\n    \tobj.text = $(q).find('.file_name').find('a').text();\n    \tobj.time = $(q).find('.file_num').find('span').text();\n    \tvar cwin = elem.ownerDocument;\n      var port = cwin.defaultView.location.port;\n\t\t\tvar _web = cwin.defaultView.location.href.split(\"/\")[3];\n   \t var attachUrl = '/'+_web+'/' + cwin.forms[0].fldQxxxDbName.value + '/($All)/' + cwin.forms[0].fldQXXXID.value + '/$FILE/' + $(q).find('.file_name').find('a').text();\n    \tvar url = \"http://59.110.171.69:\"+port+\"/\" + encodeURIComponent(attachUrl);\n    \tobj.url = url;\n    \tobj.cookies = cwin.cookie;\n    \tobj.dbid = cwin.forms[0].fldQXXXID.value;\n    \tdata.fujian.push(obj);  \n       \n     }else {\n  var obj = {};\n  obj.typeP = '';\n  obj.text = '暂无附件';\n  obj.time = '';\n  data.fujian.push(obj);\n} \n    \n  });\n} else {\n  var obj = {};\n  obj.typeP = '';\n  obj.text = '暂无附件';\n  obj.time = '';\n  data.fujian.push(obj);\n} //parttwo 附件完\nvar liuchengTable = $(elem).find(\"#comment_table\").find(\"tbody\");\nif (liuchengTable.length == 0) {\n  var obj = {};\n  obj.text = '暂无流程';\n  data.liucheng.push(obj);\n} else {\n  liuchengTable && liuchengTable.map(function (d, t) {\n    if (d > 0) {\n      var obj = {};\n      obj.text = $(t).find(\"td\").eq(0).text().replace(/\\s/g, \"\");\n      var str = $(t).find(\"td\").eq(1).text();\n      var arr = str.split(' ');\n      obj.content = arr[1];\n      obj.day = arr[2] + ' ' + arr[3];\n      data.liucheng.push(obj);\n    }\n  });\n  var obj2 = {};\n  obj2.num = liuchengTable.length - 2;\n  data.liuchengNUM.push(obj2);\n} //partthree流程完\nvar commitLZS = $(elem).find('.path') && $(elem).find('.path').find('ul.path_btn') && $(elem).find('.path').find('ul.path_btn').find('span');\ncommitLZS && commitLZS.map(function (d, t) {\n  var obj = {};\n  obj.textC = t.textContent;\n  data.commitLZ.push(obj);\n});\nif (elem.ownerDocument.querySelector(\".ui_border\") && elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\") && elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\").querySelector(\".ui_loading\") && elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\").querySelector(\".ui_loading\").length != 0) {\n  var iframes = elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\").querySelector(\".ui_loading\").nextElementSibling && elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\").querySelector(\".ui_loading\").nextElementSibling.contentDocument.documentElement;\n  var divs = $(iframes).find('#selectflowuser').children();\n  var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');\n  divs.map(function (d, t) {\n    if (d > 1 && t.style.display != 'none') {\n      if ($(t).find('legend').next()[0] && $(t).find('legend').next()[0].tagName == 'P') {\n        $(t).find('p').map(function (q, l) {\n          var obj = {};\n          obj.text = $(l).text().replace(/\\√/g, \"\");\n          obj.trueFalse = $(l).text().indexOf('√') > -1 ? 'true' : 'false';\n          obj.type = 'P';\n          data.selectApar.push(obj);\n        });\n      } else {\n        if ($(t).find('legend').next()[0] && $(t).find('legend').next()[0].tagName == 'SELECT') {\n          $(t).find('option').map(function (q, l) {\n            var obj = {};\n            obj.text = $(l).text().replace(/\\√/g, \"\");\n            obj.trueFalse = $(l).text().indexOf('√') > -1 ? 'true' : 'false';\n            obj.type = 'OPTION';\n            data.selectApar.push(obj);\n          });\n        }\n      }\n    } else if (d == 1) {\n      //树结构\n      var domtree = trees.find('.t_node');\n      domtree.map(function (d, t) {\n        var obj = {};\n        obj.title = $(t).find('label').eq(0).text();\n        obj.dis = 'block';\n        obj.indx = d;\n        obj.array = [];\n        $(t).find('.t_leaf').map(function (q, l) {\n          var obj2 = {};\n          obj2.text = $(l).find('label').text();\n          obj2.indx = q;\n          obj2.dis = l.parentElement.parentElement.getAttribute('class').indexOf('expanded') > -1 ? 'block' : 'none';\n          obj.array.push(obj2);\n        });\n        data.treeBar.push(obj);\n      });\n    }\n  });\n} //选择办理人，需要跨iframe获取数据\nvar list = elem.ownerDocument.querySelector(\"#common_view_list\");\nvar lis = list && list.querySelectorAll(\"li\");\nif (lis.length > 0) {\n  for (var i = 0; i < lis.length; i++) {\n    data.yijian.push(lis[i].querySelector(\"a\").textContent);\n  }\n} else {\n  data.yijian.push('常用意见暂无数据');\n} //常用意见end\n//按钮数量（暂存、退回）start\nvar release = elem.ownerDocument.querySelector(\".Release\");\nvar lis = release && release.querySelectorAll(\"li\");\nfor (var i = 0; i < lis.length; i++) {\n  if (\"暂存\" == lis[i].querySelector(\"span\").textContent || \"退回\" == lis[i].querySelector(\"span\").textContent) {\n    data.but.push(lis[i]);\n  }\n} \ndata.enniu = [];\nvar release = elem.ownerDocument.querySelector(\".Release\");\nvar lis = release && release.querySelectorAll(\"li\");\nfor (var i = 0; i < lis.length; i++) {\n  if ( \"阅毕\" == lis[i].querySelector(\"span\").textContent) {\n    data.enniu.push(lis[i].textContent);\n  }else{\n    data.enniu.push(\"1\")\n  }\n} \n//按钮数量（暂存、退回）end\n//退回数据start\nvar loading = elem.ownerDocument.querySelector(\".ui_loading\");\nvar iframe = loading && loading.nextElementSibling;\nvar datagrid = iframe && iframe.contentDocument.querySelector(\".datagrid-view2\");\nif (datagrid != null) {\n  var trs = datagrid.querySelector('table[class=\"datagrid-btable\"]').querySelector(\"tbody\").querySelectorAll(\"tr\");\n\n  for (var i = 0; i < trs.length; i++) {\n    var c = [];\n    var tds = trs[i].querySelectorAll(\"td\");\n\n    for (var j = 0; j < tds.length; j++) {\n      c.push(tds[j].textContent);\n    }\n\n    data.tuihuiTitle.push(c);\n  }\n\n  for (var j = 0; j < trs.length; j++) {\n    if (trs[j].className.indexOf(\"datagrid-row-selected\") > -1) {\n      data.tuihuiTitleFlag.push(true);\n    } else {\n      data.tuihuiTitleFlag.push(false);\n    }\n  }\n} //退回数据end\nreturn data;\n"
doAction_uiControl18_7GOouS: "if (data.eventType == 'Liclick') {\n  ysp.appMain.showLoading();\n  var data = data.dataCustom;\n  var commitLZS = $(elem).find('.path') && $(elem).find('.path').find('ul.path_btn') && $(elem).find('.path').find('ul.path_btn');\n  commitLZS.find('a').eq(data).click();\n  setTimeout(function () {\n    ysp.appMain.hideLoading();\n  }, 500);\n} else if (data.eventType == 'closeChiosep') {\n  var iframes = elem.ownerDocument.querySelector(\".ui_border\") && elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_title_buttons\") && elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_title_buttons\").querySelector(\".ui_close\");\n  iframes.click(); //关闭选人的弹框\n} else if (data.eventType == 'peopleChioseClick') {\n  //选人之后的确定按钮，手动关闭和手动给select赋值\n  var loading = elem.ownerDocument.querySelector(\".ui_loading\");\n  var iframe = loading && loading.nextElementSibling;\n  var datagrid = iframe && iframe.contentDocument.querySelector(\"#selectflowuser\");\n\n  if (datagrid != null) {\n    var selectsDiv = datagrid.querySelectorAll(\"div\") && datagrid.querySelectorAll(\"div\")[2];\n    var options = selectsDiv.querySelector(\"select\") && selectsDiv.querySelector(\"select\").querySelectorAll(\"option\");\n\n    if (options != null) {\n      var aa = [];\n\n      for (var i = 0; i < options.length; i++) {\n        var selected = options[i].getAttribute(\"selected\");\n\n        if (\"selected\" == selected) {\n          aa.push(i);\n        }\n      }\n    }\n  }\n\n  var iframes = elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\").querySelector(\".ui_loading\").nextElementSibling && elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\").querySelector(\".ui_loading\").nextElementSibling.contentDocument.documentElement;\n  $(iframes).find('.ui_send').click();\n\n  if (\"\" != aa && aa != \"null\" && aa != \"undefined\" && aa != undefined) {\n  \tvar port = elem.ownerDocument.defaultView.location.port;\n\t\tvar _web = elem.ownerDocument.defaultView.location.href.split(\"/\")[3];\n\t\tvar url = \"http://59.110.171.69:\"+port+\"/\"+_web+\"/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf\";\n    ysp.appMain.reloadPage(url);\n  } //   var index;\n  //   for (var i = 0; i < lis && lis.length; i++) {\n  //     if (\" 退出 \" == lis[i].textContent) {\n  //       index = i;\n  //     }\n  //   }\n  //   elem.querySelectorAll(\"li\") && elem.querySelectorAll(\"li\")[index] && elem.querySelectorAll(\"li\")[index].querySelector(\"a\").click();\n  //   var elem = elem.ownerDocument;\n  //   var dialog = $(elem).find('.ui_state_lock').find('table').find('.ui_buttons').find('input').eq(1);\n  //   if (dialog.val() == '不保存') {\n  //     dialog.click();\n  //   } //选人后手动点击关闭\n\n} else if (data.eventType == 'radioClick') {\n  var data = data.customData;\n  var iframes = elem.ownerDocument.querySelector(\".ui_border\").querySelector(\".ui_content\").querySelector(\".ui_loading\").nextElementSibling.contentDocument.documentElement;\n  var selectflowuser = $(iframes).find('#selectflowuser').find('fieldset').eq(2);\n\n  if (selectflowuser.children()[1].tagName == 'P') {\n    var selects = selectflowuser.find('select') && selectflowuser.find('p');\n  } else {\n    var selects = selectflowuser.find('select') && selectflowuser.find('select').find('option')[data]; //$(selects).mousedown().click().mouseup(); \n\n    selects.selected = true;\n    selects.setAttribute('class', 'selected');\n    var evt = document.createEvent('MouseEvent');\n    evt.initMouseEvent('change', true, true);\n    selects.dispatchEvent(evt); // if (selects.getAttribute('selected') != 'selected') {\n    //   selects.setAttribute(\"selected\", \"selected\");\n    // } else {\n    //   selects.setAttribute(\"selected\", \"noSelected\");\n    // }\n  } //选人的多选\n\n} else if (data.eventType == 'flowTitle') {\n  var data = data.customData;\n  var iframes = $(elem).find('.ui_border').find('.ui_content').find('.ui_loading').next()[0] && $(elem).find('.ui_border').find('.ui_content').find('.ui_loading').next()[0].contentDocument.documentElement;\n  var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');\n  var domtree = trees.find('.t_node');\n  domtree.eq(data).find('label').eq(0).find('input').click();\n} else if (data.eventType == 'flowTitleChild') {\n  var data1 = data.customData.data1;\n  var data2 = data.customData.data2;\n  var iframes = $(elem).find('.ui_border').find('.ui_content').find('.ui_loading').next()[0] && $(elem).find('.ui_border').find('.ui_content').find('.ui_loading').next()[0].contentDocument.documentElement;\n  var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');\n  var domtree = trees.find('.t_node');\n  $(domtree).eq(data2).find('.t_leaf').eq(data1).find('label').find('input').click();\n}\nvar type = data.eventType;\nif (type == \"textareaChange\") {\n  var text = data.customData;\n  elem.ownerDocument.querySelector('textarea[name=\"fldYijian\"]').value = text;\n}\nif (type == \"yijian\") {\n  var index = parseInt(data.customData);\n  var list = elem.ownerDocument.querySelector(\"#common_view_list\");\n  var lis = list && list.querySelectorAll(\"li\");\n  lis && lis[index].querySelector(\"a\").click();\n}\nif (type == \"ZC\") {\n  var a = [];\n  var release = elem.ownerDocument.querySelector(\".Release\");\n  var lis = release && release.querySelectorAll(\"li\");\n\n  for (var i = 0; i < lis.length; i++) {\n    if (\"暂存\" == lis[i].querySelector(\"span\").textContent) {\n      a.push(lis[i]);\n    }\n  }\n\n  a && a[0].querySelector(\"a\").click();\n  var port = elem.ownerDocument.defaultView.location.port;\n\t\tvar _web = elem.ownerDocument.defaultView.location.href.split(\"/\")[3];\n\t\tvar url = \"http://59.110.171.69:\"+port+\"/\"+_web+\"/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf\";\n  ysp.appMain.reloadPage(url);\n}\nif (type == \"YB\") {\n  var a = [];\n  var release = elem.ownerDocument.querySelector(\".Release\");\n  var lis = release && release.querySelectorAll(\"li\");\n\n  for (var i = 0; i < lis.length; i++) {\n    if (\"阅毕\" == lis[i].querySelector(\"span\").textContent) {\n      a.push(lis[i]);\n    }\n  }\n\n  a && a[0].querySelector(\"a\").click();\n}\nif (type == \"TH\") {\n  var a = [];\n  var release = elem.ownerDocument.querySelector(\".Release\");\n  var lis = release && release.querySelectorAll(\"li\");\n\n  for (var i = 0; i < lis.length; i++) {\n    if (\"退回\" == lis[i].querySelector(\"span\").textContent) {\n      a.push(lis[i]);\n    }\n  }\n\n  a && a[0].querySelector(\"a\").click();\n}\nif (type == \"THClose\") {\n  var ss = [];\n  var ass = elem.ownerDocument.querySelector(\".ui_title_buttons\") && elem.ownerDocument.querySelector(\".ui_title_buttons\").querySelectorAll(\"a\");\n\n  for (var i = 0; i < ass.length; i++) {\n    if (\"关闭(esc键)\" == ass[i].getAttribute(\"title\")) {\n      ss.push(ass[i]);\n    }\n  }\n\n  ss && ss[0].click();\n}\nif (type == \"THTitle\") {\n  var index = data.dataCustom;\n  var loading = elem.ownerDocument.querySelector(\".ui_loading\");\n  var iframe = loading && loading.nextElementSibling;\n  var datagrid = iframe && iframe.contentDocument.querySelector(\".datagrid-view2\");\n\n  if (datagrid != null) {\n    var trs = datagrid.querySelector('table[class=\"datagrid-btable\"]').querySelector(\"tbody\").querySelectorAll(\"tr\");\n    trs && trs[index].click();\n  }\n\n  var dialog = elem.ownerDocument.querySelector('table[class=\"ui_dialog\"]') && elem.ownerDocument.querySelector('table[class=\"ui_dialog\"]').querySelector(\".ui_state_highlight\");\n  dialog && dialog.click();\n var port = elem.ownerDocument.defaultView.location.port;\n\t\tvar _web = elem.ownerDocument.defaultView.location.href.split(\"/\")[3];\n\t\tvar url = \"http://59.110.171.69:\"+port+\"/\"+_web+\"/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf\";\n  ysp.appMain.reloadPage(url);\n}\nif (data.eventType == 'fujian') {\n  var url = data.dataCustom.url;\n  var cookies = data.dataCustom.cookies;\n  var text = data.customData.text;\n  var cookieValue = cookies;\n  var dbid = data.dataCustom.dbid;\n\n  if (top.EAPI.isAndroid()) {\n    huaneng.fujian(\"OA\",url.match(/MoaWeb.*nsf/)[0], dbid, text, cookieValue);\n  } else {\n    //top.EAPI.openWindow(url + '?_ysp_filepreview=1');\n    //top.EAPI.postMessageToNative(\"openDocument\", url);\n    top.EAPI.postMessageToNative(\"openDocument\", {\n      \"dbname\": url.match(/MoaWeb.*nsf/)[0],\n      \"dbid\": dbid,\n      \"text\": text,\n      \"cookie\": cookies.split(\"LtpaToken=\")[1],\n      \"type\":\"OA\"\n    });\n  }\n}\n"
getTemplate_uiControl18_7GOouS: "import {Component} from 'react';\n\nexport default class extends Component{\n  constructor(){\n    super();\n    this.state={\n      flag:true,\n      flag1:false,\n      flag2:false,\n      flag3:false,\n      flag4:false,\n      commitModal:false,\n      renderModal:true,\n      flowIndx:'a',\n      peopleFLOW:0//选人部分的显示隐藏\n    }\n  }\n  handlerYB(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'YB'\n      })\n    }\n  }\n  handlerNR(e){\n    var that = this;\n    that.setState({\n      flag:true,\n      flag1:false,\n      flag2:false,\n    })\n  }\n  handlerFJ(e){\n    var that = this;\n    that.setState({\n      flag:false,\n      flag1:true,\n      flag2:false,\n    })\n  }\n  handlerLC(e){\n    var that = this;\n    that.setState({\n      flag:false,\n      flag1:false,\n      flag2:true,\n    })\n  }\n\thandle(data,eventType) {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({data,eventType});\n    }\n  }\n  handlerPZ(){\n    var that = this;\n    that.setState({\n      flag3:true\n    })\n  }\n  handlerCY(){\n    var that = this;\n    that.setState({\n      flag3:false\n    })\n  }\n  handleryijian(e){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'yijian',\n        data:e.target.dataset.index\n      })\n    }\n    this.setState({\n      flag3:false\n    })\n  }\n  handlerZC(){\n    var handler = this.props.customHandler;\n    ysp.appMain.showLoading();\n    if(handler){\n      handler({\n        eventType:'ZC'\n      })\n    }\n  }\n  handlerTH(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'TH'\n      })\n    }\n    this.setState({\n      flag4:true\n    })\n  }\n  handlerTHClose(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"THClose\"\n      })\n    }\n    this.setState({\n      flag4:false\n    })\n  }\n  handlerTHTitle(e){\n    var classTitle = e.target.className;\n    var dom;\n    if(\"ysp-contentSW-thTitleFitst\" == classTitle || \"ysp-contentSW-thTitleSecond\" == classTitle){\n      dom = e.target.parentElement;\n    } else if(\"ysp-contentSW-thTitle\" == classTitle){\n      dom = e.target;\n    }\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"THTitle\",\n        data:dom.dataset.index\n      })\n    }\n  }\n  textareaChange(e){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"textareaChange\",\n        data:e.target.value\n      })\n    }\n  }\n  handlerPeople(e){\n    var handler = this.props.customHandler;\n    var target = e.target;\n    if(handler){\n      handler({\n        eventType:\"peopleChioseClick\"\n      })\n    }\n  }\n  handlerfujian(e){\n    var classTitle = e.target.className;\n    var dom;\n    if(\"classTypeP\" == classTitle || \"classTypeW\" == classTitle || \"classTypeX\" == classTitle || \"classTypeo\" == classTitle || \"classTypeText\" == classTitle){\n      dom = e.target.parentElement;\n    } else {\n      dom = e.target;\n    }\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'fujian',\n        data:{\n          url:dom.dataset.url,\n          cookies: dom.dataset.cookies,\n          text: dom.dataset.text,\n          dbid: dom.dataset.dbid\n        }\n      })\n    }\n  }\n  commit(){\n    var me = this,data=this.props.customData;\n    return <div className='D_choiseFlow'>\n      <div className=\"ysp-header\" >\n        <div onClick={()=>{\n            this.setState({...this.state,commitModal:false,renderModal:true})\n          }}></div>\n        <div>请选择流向</div>\n       </div>\n    \t<div className='D_flowList' style={{display:me.state.peopleFLOW==0?'block':'none'}}>\n      \t{data&&data.commitLZ&&data.commitLZ.map(function(d,t){\n          return (<li className={me.state.flowIndx==t?'changC':''} onClick={()=>{\n              me.handle(t,'Liclick')\n              me.setState({flowIndx:t,peopleFLOW:'a'})\n            }}><span>{d.textC}</span><span style={{display:me.state.flowIndx==t?'block':'none'}}>√</span></li>)\n        })}\n      </div>\n      <div className='D_chiosePeople' style={{display:me.state.peopleFLOW==0?'none':'block'}}>  \n      \t<div className=\"ysp-header\" >\n        <div onClick={()=>{\n            this.setState({...this.state,peopleFLOW:0})\n            me.handle('','closeChiosep')\n          }}></div>\n        <div style={{textAlign:'center'}}>请选择办理人</div>\n        <div style={{paddingRight:'15px'}} onClick = {me.handlerPeople.bind(me)}>确定</div>\n       </div>\n \t\t\t\t<div className='treeBody' style={{display:data.treeBar[0]?'block':'none'}}>\n          {data&&data.treeBar[0]&&data.treeBar.map(function(d,t){\n            return (<div><li onClick={()=>{\n                  me.handle(t,'flowTitle')\n                }} style={{display:d.dis}} indexs={d.indx}><span style={{color:'blue'}}>+</span> {d.title}</li>\n              <div>\n                {d.array&&d.array.map(function(q,l){\n                  return (<li className='nocolor' onClick={(e)=>{\n                        me.handle({data1:l,data2:d.indx},'flowTitleChild');\n                        var target = e.target;\n                        if(target.getAttribute('class')=='nocolor') {\n                          target.setAttribute('class','blueColor');\n                        }else {\n                          target.setAttribute('class','nocolor');\n                        }\n                      }} style={{display:q.dis}} indexs={q.indx}>{q.text}</li>)\n                })}\n                </div>\n              </div>)\n          })}\n        </div>\n        <div id=\"tres\" >\n          {data&&data.selectApar&&data.selectApar.map(function(d,t){\n            return <li className='pTre' onClick={(e)=>{\n                  me.handle(t,'radioClick')\n                }}><span style={{display:d.type=='P'?'none':'block'}} className={d.trueFalse=='true'?'changeRadioB':'changeRadio'}></span>{d.text}</li>\n          })}\n        </div>\n      </div>\n    </div>\n  }\n  apiRender(){\n    var scorllH =document.body.clientHeight-200+'px';\n    var scorllY =document.body.clientHeight-100+'px';\n    var _this=this,data=this.props.customData\n    return(\n    \t<div>\n        <div style={{'height':scorllH,'overflow':'scroll'}}>\n          <div className=\"ysp-content-header\">\n            <span className={this.state.flag == true ? \"ysp-content-header-button\" : \"\"} onClick={this.handlerNR.bind(this)}>内容</span>\n            <span className={this.state.flag1 == true ? \"ysp-content-header-button\" : \"\"} onClick={this.handlerFJ.bind(this)}>附件</span>\n            <span className={this.state.flag2 == true ? \"ysp-content-header-button\" : \"\"}onClick={this.handlerLC.bind(this)}>流程</span>\n          </div>\n          <div className=\"ysp-content-body\">\n            {\n              this.state.flag == true ? \n                <div className=\"ysp-contentSW\">\n                  {data&&data.content2.map(function(dt,dd){\n                    return <div>\n                              <span>{dt.text}</span>\n                              <span>{dt.cont}</span>\n                            </div>\n                  })}\n                   <div>\n                    <span>意见</span>\n                    <span style={{\"border-bottom\": \"0px\"}}>\n                      <ATextarea onChange={this.textareaChange.bind(this)}\n                        value={data&&data.content[0]}></ATextarea>\n                    </span>\n                  </div>\n                  <div>\n                    <span></span>\n                    <span className=\"ysp-contentSW-button\" onClick={this.handlerPZ.bind\n\n(this)}>\n                      典型批注\n                    </span>\n                  </div> \n                </div>\n                : this.state.flag1 == true ? \n                <div className='D_fujian'>\n                  {data&&data.fujian&&data.fujian.map(function(d,l){\n                    if(d.text=='暂无附件') {\n                      return <div className='D_zanwuFJ'>\n                        {d.text}\n                      </div>\n                    }else {\n                      var typeP,classType\n                      if(d.typeP=='docx') {\n                        typeP='W'\n                        classType='classTypeW'\n                      }else if(d.typeP=='ppt') {\n                        typeP='P'\n                        classType='classTypeP'\n                      }else if(d.typeP=='xls') {\n                        typeP='X'\n                        classType='classTypeX'\n                      }else {\n                        classType='classTypeo'\n                      }\n                      return (\n                        <div className='D_zanwuFJT' onClick={_this.handlerfujian.bind(_this)}\n                          data-url={d.url} data-cookies={d.cookies} data-text={d.text} data-dbid={d.dbid}>\n                          <span className={classType}>{typeP}</span>\n                          <div className=\"classTypeText\">附件：{d.text.replace(/zhengwen/,\"正文\").replace(/caogao/,\"正文\")}</div>\n                        </div>)\n                    }\n                  })}\n                 </div>\n                : this.state.flag2 == true ? \n                <div className='D_LC'>\n                  {data&&data.liucheng&&data.liucheng.map(function(d,t){\n                    if(d.text=='暂无流程') {\n                      return <div className='D_zanwuLC'>{d.text}</div>\n                    }else {\n                     return (<div className='D_liucheng'>\n                      <div>\n                        <span></span>\n                        <span className={data.liuchengNUM[0].num!=t?'d_xian':'abc'}></span>\n                      </div>\n                      <div>\n                        <div>{d.text}</div>\n                        <div>\n                          <p><span></span><span>{d.content}</span></p>\n                          <p><span></span><span>{d.day}</span></p>\n                        </div>\n                      </div>\n                    </div>)\n                    }\n                  })}\n                </div> : ''\n            }\n          </div>\n        </div>\n        {\n          data&&data.but.length == 2 ? \n            <div style={{'background':'#fff','padding':'5px'}}>\n              <div className=\"ysp-content-bottomWC\">\n                <span onClick={()=>{\n                  if(data&&data.content[8]!=''){\n                    this.setState({...this.state,commitModal:true,renderModal:false})\n                  }else {\n                    alert('请填写办理意见')\n                  }\n            }}>完成</span>\n              </div>\n              <div className=\"ysp-content-bottom\">\n              \t<span onClick={this.handlerZC.bind(this)}>暂存</span>\n              \t<span onClick={this.handlerTH.bind(this)}>退回</span>\n              </div>\n            </div> :\n             <div >\n            { data.enniu[1] == \" 阅毕 \" || data.enniu[2] == \" 阅毕 \" ? \n              <div className=\"ysp-content-bottom\">\n                <span onClick={this.handlerZC.bind(this)}>暂存</span>\n                <span onClick={\n                        this.handlerYB.bind(this)    \n                }>阅毕</span>\n          \t\t</div> \n              :\n            <div className=\"ysp-content-bottom\">\n                <span onClick={this.handlerZC.bind(this)}>暂存</span>\n            \t<span onClick={()=>{\n                if(data&&data.content[8]!=''){\n                      this.setState({...this.state,commitModal:true,renderModal:false})\n                    }else {\n                      alert('请填写办理意见')\n                    }\n              }}>完成</span>\n          \t</div> }\n            </div>\n        }\n        {\n          this.state.flag3 == true ? \n            <div className=\"ysp-contentSW-yj\">\n              <div className=\"ysp-header\">\n                <div onClick={this.handlerCY.bind(this)}></div>\n                <div>常用意见</div>\n              </div>\n              <div style={{'height':scorllY,'overflow':'scroll'}}>\n              {\n                data && data.yijian.map(function(d,i){\n                  if(d=='常用意见暂无数据'){\n                    return(\n                  \t<div className=\"ysp-contentSW-yjtitle\">\n                      {d}\n                    </div>\n                  )\n                  }else {\n                    return(\n                  \t<div data-index = {i} onClick={_this.handleryijian.bind(_this)}\n                      className=\"ysp-contentSW-yjtitle\">\n                      {d}\n                    </div>\n                  )\n                  }\n                  \n                })\n              }\n             </div>\n            </div> : \"\"\n        }\n        \n        {\n          this.state.flag4 == true ?\n            <div className=\"ysp-contentSW-th\">\n            \t<div className=\"ysp-header\">\n                <div onClick={_this.handlerTHClose.bind(_this)}></div>\n                <div>退回信息</div>\n              </div>\n              <div style={{'height':scorllY,'overflow':'scroll'}}>\n              {\n                data && data.tuihuiTitle.map(function(d,i){\n                  return(\n                  \t<div className={data.tuihuiTitleFlag[i] ? \"ysp-contentSW-thTitle ysp-contentSW-thTitleColor\" : \"ysp-contentSW-thTitle\"} \n                      data-index={i} onClick={_this.handlerTHTitle.bind(_this)}>\n                      <span className=\"ysp-contentSW-thTitleFitst\">{d[0]}</span>\n                      <span className=\"ysp-contentSW-thTitleSecond\">({d[1]})</span>\n                    </div>\n                  )\n                })\n              }\n             </div>\n            </div> : \"\"\n        }\n      </div>\n    )\n  }\n  render() {\n    var _this=this;\n    return <div ref=\"toTop\">{_this.state.renderModal?_this.apiRender():_this.commit()}</div>\n  }\n}"
