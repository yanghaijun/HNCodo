getData_control35_Nf7fx9: |
  var data = [];
  var h1 = elem.querySelector("h1").textContent;
  data.push(h1);
  return data;
doAction_uiControl34_ImegeT: >
  // if (data.eventType == "click") {

  //   var lis = elem.querySelectorAll("li");var index;for (var i = 0; i <
  lis.length; i++) {

  //     if (" 退出 " == lis[i].textContent) {

  //       index = i;

  //     }

  //   }elem.querySelectorAll("li") &&
  elem.querySelectorAll("li")[index].querySelector("a").click();var elem =
  elem.ownerDocument;var dialog =
  $(elem).find('.ui_state_lock').find('table').find('.ui_buttons').find('input').eq(1);if
  (dialog.val() == '不保存') {

  //     dialog.click();

  //   }

  // }

  elem.ownerDocument.defaultView.close();
getTemplate_uiControl34_ImegeT: |-
  module.exports = React.createClass({
    componentDidMount(){
      var elem = this.refs.toTop.ownerDocument.querySelector(".view-wrapper");
      setTimeout(function(){
        elem.scrollTop=0;
      },500)
    },
    handlerClick(){
      var handler = this.props.customHandler;
      if(handler){
        handler({
          eventType:"click"
        })
      }
    },
    render: function() {
      var data = this.props.customData || [];
      return (
        <div className="ysp-header" ref='toTop'>
          <div onClick={this.handlerClick.bind(this)}></div>
          <div>
            {
              data && data[0]
            }
          </div>
          
        </div>
      )
    }
  });
getData_control36_UxM8Bi: >
  var data = [];

  var title = elem.querySelector("input") ? elem.querySelector("input").value :
  elem.textContent;

  data.push(title);

  return data;
doAction_uiControl35_po87Ud: ''
getTemplate_uiControl35_po87Ud: |-
  module.exports = React.createClass({
    render: function() {
      var data = this.props.customData;
      return (
        <div className="ysp-content-top">
          {data}
        </div>
      )
    }
  });
getData_control37_qXD1Rp: ";if (!elem) {\n  return;\n}\nvar data = {\n  content: [],\n  fujian: [],\n  liucheng: [],\n  liuchengNUM: [],\n  commitLZ: [],\n  treeBar: [],\n  selectApar: [],\n  selectApars: [],\n  yijian: [],\n  but: [],\n  tuihuiTitle: [],\n  tuihuiTitleFlag: []\n};\nvar _qfr = elem.querySelector(\"input[name='fldTM']\");\n\nvar qfr = \"\";\nif( _qfr ){\n  qfr = _qfr.value;\n}else{\n  qfr = elem.querySelectorAll(\".table_list_blk\")[0].querySelector(\"dd\").textContent;\n}\nvar _zbbm = elem.querySelectorAll(\".table_list_blk\")[1].querySelector(\"dd\");\nvar zbbm = \"\";\nif( _zbbm ){\n  zbbm = _zbbm.textContent;\n}\nvar _zsdwIndex = elem.querySelectorAll(\".table_list_blk\")[2].querySelector(\"select\");\nvar zsdw = \"\";\nif( _zsdwIndex  ){\n  // console.log(\"1\");\n  // console.log(elem.querySelectorAll(\".table_list_blk\")[2].querySelector(\"select\").selectedIndex)\n zsdw = elem.querySelectorAll(\".table_list_blk\")[2].querySelector(\"select\").options[_zsdwIndex.selectedIndex].text;\n}else{\n zsdw = elem.querySelectorAll(\".table_list_blk\")[2].querySelector(\"dd\").textContent.trim();\n}\nvar _csdwIndex = elem.querySelectorAll(\".table_list_blk\")[3].querySelector(\"select\");\nvar csdw = \"\";\nif( _csdwIndex ){\n csdw = elem.querySelectorAll(\".table_list_blk\")[3].querySelector(\"select\").options[_csdwIndex.selectedIndex].text;\n}else{\n csdw = elem.querySelectorAll(\".table_list_blk\")[3].querySelector(\"dd\").textContent.trim();\n}\nvar _ngr = elem.querySelectorAll(\".table_list_blk\")[4].querySelector(\"input\");\nvar ngr = \"\";\nif( _ngr ){\n ngr = _ngr.value;\n}else{\n ngr = elem.querySelectorAll(\".table_list_blk\")[5].querySelector(\"dd\").textContent;\n}\nvar _rq = elem.querySelectorAll(\".table_list_blk\")[5].querySelector(\"input\");\nvar rq = \"\";\nif( _rq ){\n rq = _rq.value;\n}else{\n rq = elem.querySelectorAll(\".table_list_blk\")[5].querySelector(\"dd\").textContent;\n}\nvar _jdmcIndex = elem.querySelectorAll(\".table_list_blk\")[6].querySelector(\"select\");\nvar jdmc = \"\";\nif( _jdmcIndex ){\n jdmc =  elem.querySelectorAll(\".table_list_blk\")[6].querySelector(\"select\").options[_jdmcIndex.selectedIndex].text;\n}else{\n   jdmc =  elem.querySelectorAll(\".table_list_blk\")[6].querySelector(\"dd\").textContent;\n\n}\nvar _dblx = elem.querySelector(\"input[name='fldZBBMShow']\");\nvar dblx = \"\";\nif( _dblx ){\n  dblx = _dblx.value;\n}else{\n  dblx = elem.querySelectorAll(\".table_list_blk\")[7].querySelector(\"dd\").textContent.trim();\n}\nvar _yj = elem.querySelector(\"input[name='fldZRZ']\");\nvar yj = \"\";\nif( _yj ){\n  yj = _yj.value;\n}else{\n  yj = elem.querySelectorAll(\".table_list_blk\")[8].querySelector(\"dd\").textContent.trim();\n}\nvar _ywh = elem.querySelectorAll(\".table_list_blk\")[10].querySelector(\"dd\");\nvar ywh = \"\";\nif( _ywh ){\n ywh = _ywh.textContent;\n}\nvar _ywrq = elem.querySelector(\"input[name='fldYWRQ']\");\nvar ywrq = \"\";\nif( _ywrq ){\n ywrq = _ywrq.value;\n}\nvar zysw = \"\";\nvar fldZYSW1 = elem.querySelector(\"input[name='fldZYSW']\");\nif( fldZYSW1 && fldZYSW1.type==\"radio\"){\n  fldZYSW1.checked ? zysw=\"是\" : zysw=\"否\";\n }else{\n    zysw = fldZYSW1.value;\n }\nvar sfgd = \"\";\nvar fldZYSW2 = elem.querySelector(\"input[name='fldSFGD']\");\nif( fldZYSW2 && fldZYSW2.type==\"radio\"){\n  fldZYSW2.checked ? sfgd=\"是\" : sfgd=\"否\";\n }else{\n   sfgd = fldZYSW2.value;\n }\n// var zsdw = \"\";\n// var csdw = \"\";\n// var ngr = \"\";\n// var rq = \"\";\n// var jdmc = \"\";\n// var dblx = \"\";\n// var yj = \"\";\n// var a = [];\n// var b = [];\n// var dts = elem.ownerDocument.querySelectorAll(\"dt\");\n// for (var i = 0; i < dts.length; i++) {\n//   if (\"收文日期:\" == dts[i].textContent) {\n//     a.push(dts[i]);\n//   }\n\n//   if (\"主办部门:\" == dts[i].textContent) {\n//     b.push(dts[i]);\n//   }\n// } //日期\n// var rqs = a && a[0].nextElementSibling.firstElementChild;\n// if (null == rqs) {\n//   var rq = a && a[0].nextElementSibling.textContent;\n// } else {\n//   var rq = rqs.value;\n// } //主办部门\n// var zbbms = b && b[0].nextElementSibling.firstElementChild;\n// if (null == zbbms) {\n//   var zbbm = b && b[0].nextElementSibling.textContent;\n// } else {\n//   var abbm = zbbms.value;\n// }\n// var comment_table = elem.ownerDocument.querySelector(\"#comment_table\");\n// var tbodys = comment_table && comment_table.querySelector(\"tbody\");\n// if (tbodys == null) {\n//   var jdmc = \"\";\n// } else {\n//   var trs = tbodys.querySelectorAll(\"tr\");\n//   var jdmc = trs && trs[0].querySelectorAll(\"td\")[0].textContent;\n// } // 节点名称\n// var yj = elem.ownerDocument.querySelector('textarea[name=\"fldYijian\"]').value;\n// data.txyj = \nvar _txyj = elem.ownerDocument.querySelector('textarea[name=\"fldYijian\"]');\nif(_txyj){\n  data.txyj = elem.ownerDocument.querySelector('textarea[name=\"fldYijian\"]').value;\n}else{\n  data.txyj = \"\";\n}\ndata.content.push(qfr, zbbm, zsdw, csdw, ngr, rq, jdmc, dblx, yj,ywh,ywrq,zysw,sfgd); //内容end\n// 附件开始\nvar fujianDls = $(elem).find('.down_table_list').find('#down_table_list_text') && $(elem).find('.down_table_list').find('#down_table_list_text').find('dl');\nif (fujianDls.length != 0) {\n  fujianDls && fujianDls.map(function (j, q) {\n     if( $(q).find('.file_name').find('a').text()!=\"\"){\n    var obj = {};\n    var typePh = $(q).find('.file_name').find('a').text();\n    var typeP = typePh.indexOf('xls') > -1 == true ? 'xls' : typePh.indexOf('ppt') > -1 == true ? 'ppt' : typePh.indexOf('docx') > -1 == true ? 'docx' : '';\n    obj.typeP = typeP;\n    obj.text = $(q).find('.file_name').find('a').text();\n    obj.time = $(q).find('.file_num').find('span').text();\n    var cwin = elem.ownerDocument;\n  \tvar port = cwin.defaultView.location.port;\n\t\tvar _web = cwin.defaultView.location.href.split(\"/\")[3];\n    var attachUrl = '/'+_web+'/' + cwin.forms[0].fldQxxxDbName.value + '/($All)/' + cwin.forms[0].fldQXXXID.value + '/$file/' + $(q).find('.file_name').find('a').text();\n    // console.log(cwin.forms[0])\n    var url = \"http://59.110.171.69:\"+port+\"/\" + encodeURIComponent(attachUrl);\n    obj.url = url;\n    obj.cookies = cwin.cookie;\n    obj.dbid = cwin.forms[0].fldQXXXID.value;\n    data.fujian.push(obj);\n     } else {\n  var obj = {};\n  obj.typeP = '';\n  obj.text = '暂无附件';\n  obj.time = '';\n  data.fujian.push(obj);\n} \n  });\n} else {\n  var obj = {};\n  obj.typeP = '';\n  obj.text = '暂无附件';\n  obj.time = '';\n  data.fujian.push(obj);\n} //附件完\nvar liuchengTable = $(elem).find(\"#comment_table\").find(\"tbody\");\nif (liuchengTable && liuchengTable.length == 0) {\n  var obj = {};\n  obj.text = '暂无流程';\n  data.liucheng.push(obj);\n} else {\n  liuchengTable && liuchengTable.map(function (d, t) {\n    if (d > 0) {\n      var obj = {};\n      obj.text = $(t).find(\"td\").eq(0).text().replace(/\\s/g, \"\");\n      var str = $(t).find(\"td\").eq(1).text();\n      var arr = str.split(' ');\n      obj.content = arr[1];\n      obj.day = arr[2] + ' ' + arr[3];\n      data.liucheng.push(obj);\n    }\n  });\n  var obj2 = {};\n  obj2.num = liuchengTable.length - 2;\n  data.liuchengNUM.push(obj2);\n} //流程完\n// 提交流转开始\nvar commitLZS = $(elem).find('.path') && $(elem).find('.path').find('ul.path_btn') && $(elem).find('.path').find('ul.path_btn').find('span');\ncommitLZS && commitLZS.map(function (d, t) {\n  var obj = {};\n  obj.textC = t.textContent;\n  data.commitLZ.push(obj);\n});\nif (elem.ownerDocument.querySelector('.ui_border') && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content') && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading') && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').length != 0) {\n  var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;\n  var divs = $(iframes).find('#selectflowuser').children();\n  var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');\n  divs.map(function (d, t) {\n    if (d > 1 && t.style.display != 'none') {\n      if ($(t).find('legend').next()[0] && $(t).find('legend').next()[0].tagName == 'P') {\n        $(t).find('p').map(function (q, l) {\n          var obj = {};\n          obj.text = $(l).text().replace(/\\√/g, \"\");\n          obj.trueFalse = $(l).text().indexOf('√') > -1 ? 'true' : 'false';\n          obj.type = 'P';\n          data.selectApar.push(obj);\n        });\n      } else {\n        if ($(t).find('legend').next()[0] && $(t).find('legend').next()[0].tagName == 'SELECT') {\n          $(t).find('option').map(function (q, l) {\n            var obj = {};\n            obj.text = $(l).text().replace(/\\√/g, \"\");\n            obj.trueFalse = $(l).text().indexOf('√') > -1 ? 'true' : 'false';\n            obj.type = 'OPTION';\n            data.selectApar.push(obj);\n          });\n        }\n      }\n    } else if (d == 1) {\n      if ($(t).find('legend').next()[0] && $(t).find('legend').next()[0].tagName == 'SELECT') {\n        $(t).find('option').map(function (q, l) {\n          var obj = {};\n          obj.text = $(l).text().replace(/\\√/g, \"\");\n          obj.trueFalse = $(l).text().indexOf('√') > -1 ? 'true' : 'false';\n          obj.type = 'OPTION';\n          data.selectApars.push(obj);\n        });\n      } else {\n        //树结构\n        var domtree = trees.find('.t_node');\n        var domtree = trees.children('.t_node');\n        domtree.map(function (d, t) {\n          var obj = {};\n          obj.title = $(t).find('label').eq(0).text();\n          obj.dis = 'block';\n          obj.indx = d;\n          obj.array = [];\n          obj.array1 = [];\n          obj.array2 = [];\n          $(t).children('.title').siblings('.t_container').children('.t_leaf').map(function (q, l) {\n            var obj2 = {};\n            obj2.text = $(l).find('label').text();\n            obj2.indx = q;\n            obj2.dis = l.parentElement.parentElement.getAttribute('class').indexOf('expanded') > -1 ? 'block' : 'none';\n            obj.array.push(obj2);\n          });\n          $(t).find('.t_node') && $(t).find('.t_node').map(function (i, v) {\n            var obj3 = {};\n            obj3.title = $(v).find('label').eq(0).text();\n            obj3.dis = v.parentElement.parentElement.getAttribute('class').indexOf('expanded') > -1 ? 'block' : 'none';\n            obj3.indx = i;\n            obj.array1.push(obj3);\n            $(v).find('.t_leaf').map(function (ii, vv) {\n              var obj4 = {};\n              obj4.text = $(vv).find('label').text();\n              obj4.indx = ii;\n              obj4.dis = vv.parentElement.parentElement.parentElement.parentElement.getAttribute('class').indexOf('expanded') > -1 && vv.parentElement.parentElement.getAttribute('class').indexOf('expanded') > -1 ? 'block' : 'none';\n              obj.array2.push(obj4);\n            });\n          });\n          data.treeBar.push(obj);\n        });\n      }\n    }\n  });\n} //选择办理人，需要跨iframe获取数据\n// var list = elem.ownerDocument.querySelector(\"#common_view_list\");\n// var lis = list && list.querySelectorAll(\"li\");\n// if (lis.length > 0) {\n//   for (var i = 0; i < lis.length; i++) {\n//     data.yijian.push(lis[i].querySelector(\"a\").textContent);\n//   }\n// } else {\n//   data.yijian.push('常用意见暂无数据');\n// } //常用意见end\n//按钮数量（暂存、退回）start\nvar release = elem.ownerDocument.querySelector(\".Release\");\nvar lis = release && release.querySelectorAll(\"li\");\nfor (var i = 0; i < lis.length; i++) {\n  if (\"暂存\" == lis[i].querySelector(\"span\").textContent || \"退回\" == lis[i].querySelector(\"span\").textContent) {\n    data.but.push(lis[i]);\n  }\n}\ndata.enniu = [];\nvar release = elem.ownerDocument.querySelector(\".Release\");\nvar lis = release && release.querySelectorAll(\"li\");\nfor (var i = 0; i < lis.length; i++) {\n  if ( \"阅毕\" == lis[i].querySelector(\"span\").textContent) {\n    data.enniu.push(lis[i].textContent);\n  }else{\n    data.enniu.push(\"1\")\n  }\n} \n//按钮数量（暂存、退回）end\n//退回数据start\nvar loading = elem.ownerDocument.querySelector(\".ui_loading\");\nvar iframe = loading && loading.nextElementSibling;\nvar datagrid = iframe && iframe.contentDocument.querySelector(\".datagrid-view2\");\nif (datagrid != null) {\n  var trs = datagrid.querySelector('table[class=\"datagrid-btable\"]').querySelector(\"tbody\").querySelectorAll(\"tr\");\n\n  for (var i = 0; i < trs.length; i++) {\n    var c = [];\n    var tds = trs[i].querySelectorAll(\"td\");\n\n    for (var j = 0; j < tds.length; j++) {\n      c.push(tds[j].textContent);\n    }\n\n    data.tuihuiTitle.push(c);\n  }\n\n  for (var j = 0; j < trs.length; j++) {\n    if (trs[j].className.indexOf(\"datagrid-row-selected\") > -1) {\n      data.tuihuiTitleFlag.push(true);\n    } else {\n      data.tuihuiTitleFlag.push(false);\n    }\n  }\n} //退回数据end\nreturn data;\n"
doAction_uiControl36_HFpUtX: >
  if (data.eventType == 'Liclick') {
    ysp.appMain.showLoading();
    var data = data.dataCustom;
    var commitLZS = $(elem).find('.path') && $(elem).find('.path').find('ul.path_btn') && $(elem).find('.path').find('ul.path_btn');
    commitLZS.find('a').eq(data).click();
    setTimeout(function () {
      ysp.appMain.hideLoading();
    }, 500);
  } else if (data.eventType == 'closeChiosep') {
    var iframes = elem.ownerDocument.querySelector(".ui_border") && elem.ownerDocument.querySelector(".ui_border").querySelector(".ui_title_buttons") && elem.ownerDocument.querySelector(".ui_border").querySelector(".ui_title_buttons").querySelector(".ui_close");
    iframes.click(); //关闭选人的弹框
  } else if (data.eventType == 'peopleChioseClick') {
    //选人之后的确定按钮，手动关闭和手动给select赋值
    var loading = elem.ownerDocument.querySelector(".ui_loading");
    var iframe = loading && loading.nextElementSibling;
    var datagrid = iframe && iframe.contentDocument.querySelector("#selectflowuser");

    if (datagrid != null) {
      var selectsDiv = datagrid.querySelectorAll("div") && datagrid.querySelectorAll("div")[2];
      var options = selectsDiv.querySelector("select") && selectsDiv.querySelector("select").querySelectorAll("option");

      if (options != null) {
        var aa = [];

        for (var i = 0; i < options.length; i++) {
          var selected = options[i].getAttribute("selected");

          if ("selected" == selected) {
            aa.push(i);
          }
        }
      }
    } //elem.ownerDocument.defaultView.localStorage.setItem("personNum", aa);


    var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;
    $(iframes).find('.ui_send').click();

    if ("" != aa && aa != "null" && aa != "undefined" && aa != undefined) {
      var port = elem.ownerDocument.defaultView.location.port;
  var _web = elem.ownerDocument.defaultView.location.href.split("/")[3];

  var url =
  "http://59.110.171.69:"+port+"/"+_web+"/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf";
      ysp.appMain.reloadPage(url);
    } //   var index;
    //   for (var i = 0; i < lis && lis.length; i++) {
    //     if (" 退出 " == lis[i].textContent) {
    //       index = i;
    //     }
    //   }
    //   elem.querySelectorAll("li") && elem.querySelectorAll("li")[index] && elem.querySelectorAll("li")[index].querySelector("a").click();
    //   var elem = elem.ownerDocument;
    //   var dialog = $(elem).find('.ui_state_lock').find('table').find('.ui_buttons').find('input').eq(1);
    //   if (dialog.val() == '不保存') {
    //     dialog.click();
    //   } //选人后手动点击关闭

  } else if (data.eventType == 'radioClick') {
    var data = data.customData;
    var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;
    var selectflowuser = $(iframes).find('#selectflowuser').find('fieldset').eq(2);

    if (selectflowuser.children()[1].tagName == 'P') {
      var selects = selectflowuser.find('select') && selectflowuser.find('p');
    } else {
      var selects = selectflowuser.find('select') && selectflowuser.find('select').find('option')[data];
      selects.selected = true;
      selects.setAttribute('class', 'selected');
      var evt = document.createEvent('MouseEvent');
      evt.initMouseEvent('change', true, true);
      selects.dispatchEvent(evt);
    } //选人的多选

  } else if (data.eventType == 'radiosClick') {
    var data = data.customData;
    var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;
    var selectflowuser = $(iframes).find('#selectflowuser').find('fieldset').eq(1);

    if (selectflowuser.children()[1].tagName == 'P') {
      var selects = selectflowuser.find('select') && selectflowuser.find('p');
    } else {
      var selects = selectflowuser.find('select') && selectflowuser.find('select').find('option')[data];
      selects.selected = true;
      selects.setAttribute('class', 'selected');
      var evt = document.createEvent('MouseEvent');
      evt.initMouseEvent('change', true, true);
      selects.dispatchEvent(evt);
    } //选人的多选

  } else if (data.eventType == 'flowTitle') {
    //树结构
    var data = data.customData;
    var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;
    var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');
    var domtree = trees.find('.t_node');
    domtree.eq(data).find('label').eq(0).find('input').click();
  } else if (data.eventType == 'flowTitleChild') {
    var data1 = data.customData.data1;
    var data2 = data.customData.data2;
    var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;
    var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');
    var domtree = trees.find('.t_node');
    $(domtree).eq(data2).find('.t_leaf').eq(data1).find('label').find('input').click();
  } else if (data.eventType == 'flowTitles') {
    var data = data.customData;
    var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;
    var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');
    var domtree = trees.children('.t_node');
    domtree.find('.t_node').eq(data).find('label').eq(0).find('input').click(); //domtree.eq(data).find('label').eq(0).find('input').click();
  } else if (data.eventType == 'flowTitleChilds') {
    var data1 = data.customData.data1;
    var data2 = data.customData.data2;
    var iframes = elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling && elem.ownerDocument.querySelector('.ui_border').querySelector('.ui_content').querySelector('.ui_loading').nextElementSibling.contentDocument.documentElement;
    var trees = $(iframes).find('#selectflowuser') && $(iframes).find('#selectflowuser').find('.t_root');
    var domtree = trees.children('.t_node');
    domtree.find('.t_node').eq(data2).find('.t_leaf').eq(data1).find('label').find('input').click(); //$(domtree).eq(data2).find('.t_leaf').eq(data1).find('label').find('input').click();
  }

  var type = data.eventType;

  if (type == "textareaChange") {
    var text = data.customData;
    elem.ownerDocument.querySelector('textarea[name="fldYijian"]').value = text;
  }

  if (type == "yijian") {
    var index = parseInt(data.customData);
    var list = elem.ownerDocument.querySelector("#common_view_list");
    var lis = list && list.querySelectorAll("li");
    lis && lis[index].querySelector("a").click();
  }

  if (type == "ZC") {
    var a = [];
    var release = elem.ownerDocument.querySelector(".Release");
    var lis = release && release.querySelectorAll("li");

    for (var i = 0; i < lis.length; i++) {
      if ("暂存" == lis[i].querySelector("span").textContent) {
        a.push(lis[i]);
      }
    }

    a && a[0].querySelector("a").click();
    var port = elem.ownerDocument.defaultView.location.port;
  var _web = elem.ownerDocument.defaultView.location.href.split("/")[3];

  var url =
  "http://59.110.171.69:"+port+"/"+_web+"/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf";
    ysp.appMain.reloadPage(url);
  }

  if (type == "YB") {
    var a = [];
    var release = elem.ownerDocument.querySelector(".Release");
    var lis = release && release.querySelectorAll("li");

    for (var i = 0; i < lis.length; i++) {
      if ("阅毕" == lis[i].querySelector("span").textContent) {
        a.push(lis[i]);
      }
    }

    a && a[0].querySelector("a").click();
    // var url = "http://59.110.171.69:31044/WebOffice/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf";
    // ysp.appMain.reloadPage(url);
  }

  if (type == "TH") {
    var a = [];
    var release = elem.ownerDocument.querySelector(".Release");
    var lis = release && release.querySelectorAll("li");

    for (var i = 0; i < lis.length; i++) {
      if ("退回" == lis[i].querySelector("span").textContent) {
        a.push(lis[i]);
      }
    }

    a && a[0].querySelector("a").click();
  }

  if (type == "THClose") {
    var ss = [];
    var ass = elem.ownerDocument.querySelector(".ui_title_buttons") && elem.ownerDocument.querySelector(".ui_title_buttons").querySelectorAll("a");

    for (var i = 0; i < ass.length; i++) {
      if ("关闭(esc键)" == ass[i].getAttribute("title")) {
        ss.push(ass[i]);
      }
    }

    ss && ss[0].click();
  }

  if (type == "THTitle") {
    var index = data.dataCustom;
    var loading = elem.ownerDocument.querySelector(".ui_loading");
    var iframe = loading && loading.nextElementSibling;
    var datagrid = iframe && iframe.contentDocument.querySelector(".datagrid-view2");

    if (datagrid != null) {
      var trs = datagrid.querySelector('table[class="datagrid-btable"]').querySelector("tbody").querySelectorAll("tr");
      trs && trs[index].click();
    }

    var dialog = elem.ownerDocument.querySelector('table[class="ui_dialog"]') && elem.ownerDocument.querySelector('table[class="ui_dialog"]').querySelector(".ui_state_highlight");
    dialog && dialog.click();
    var port = elem.ownerDocument.defaultView.location.port;
  var _web = elem.ownerDocument.defaultView.location.href.split("/")[3];

  var url =
  "http://59.110.171.69:"+port+"/"+_web+"/MoaWebConfigSet.nsf/fomBoxList4?OpenForm&v=viwInBox&d=MoaWebOffice.nsf";
    ysp.appMain.reloadPage(url);
  }

  if (data.eventType == 'fujian') {
    var url = data.dataCustom.url;
    var cookies = data.dataCustom.cookies;
    var text = data.customData.text;
    var cookieValue = cookies;
    var dbid = data.dataCustom.dbid;
    if (top.EAPI.isAndroid()) {
      huaneng.fujian("OA",url.match(/MoaWeb.*nsf/)[0], dbid, text, cookieValue);
    } else {
      console.log(dbid);
      //top.EAPI.openWindow(url + '?_ysp_filepreview=1');
      //top.EAPI.postMessageToNative("openDocument", url);
      top.EAPI.postMessageToNative("openDocument", {
        "dbname": url.match(/MoaWeb.*nsf/)[0],
        "dbid": dbid,
        "text": text,
        "cookie": cookies.split("LtpaToken=")[1],
        "type":"OA"
      });
    }
  }
getTemplate_uiControl36_HFpUtX: "import {Component} from 'react';\n\nexport default class extends Component{\n  constructor(){\n    super();\n    this.state={\n      flag:true,\n      flag1:false,\n      flag2:false,\n      flag3:false,\n      flag4:false,\n      commitModal:false,\n      renderModal:true,\n      flowIndx:'a',\n      peopleFLOW:0//选人部分的显示隐藏\n    }\n  }\n  handlerYB(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'YB'\n      })\n    }\n  }\n  handlerNR(e){\n    var that = this;\n    that.setState({\n      flag:true,\n      flag1:false,\n      flag2:false,\n    })\n  }\n  handlerFJ(e){\n    var that = this;\n    that.setState({\n      flag:false,\n      flag1:true,\n      flag2:false,\n    })\n  }\n  handlerLC(e){\n    var that = this;\n    that.setState({\n      flag:false,\n      flag1:false,\n      flag2:true,\n    })\n  }\n\thandle(data,eventType) {\n    var handler = this.props.customHandler;\n    if (handler) {\n      handler({data,eventType});\n    }\n  }\n  handlerPZ(){\n    var that = this;\n    that.setState({\n      flag3:true\n    })\n  }\n  handlerCY(){\n    var that = this;\n    that.setState({\n      flag3:false\n    })\n  }\n  handleryijian(e){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'yijian',\n        data:e.target.dataset.index\n      })\n    }\n    this.setState({\n      flag3:false\n    })\n  }\n  handlerZC(){\n    var handler = this.props.customHandler;\n    ysp.appMain.showLoading();\n    if(handler){\n      handler({\n        eventType:'ZC'\n      })\n    }\n  }\n  handlerTH(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'TH'\n      })\n    }\n    this.setState({\n      flag4:true\n    })\n  }\n  handlerTHClose(){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"THClose\"\n      })\n    }\n    this.setState({\n      flag4:false\n    })\n  }\n  handlerTHTitle(e){\n    var classTitle = e.target.className;\n    var dom;\n    if(\"ysp-contentSW-thTitleFitst\" == classTitle || \"ysp-contentSW-thTitleSecond\" == classTitle){\n      dom = e.target.parentElement;\n    } else if(\"ysp-contentSW-thTitle\" == classTitle){\n      dom = e.target;\n    }\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"THTitle\",\n        data:dom.dataset.index\n      })\n    }\n  }\n  textareaChange(e){\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:\"textareaChange\",\n        data:e.target.value\n      })\n    }\n  }\n  handlerPeople(e){\n    var handler = this.props.customHandler;\n    var target = e.target;\n    if(handler){\n      handler({\n        eventType:\"peopleChioseClick\"\n      })\n    }\n  }\n  handlerfujian(e){\n    var classTitle = e.target.className;\n    var dom;\n    if(\"classTypeP\" == classTitle || \"classTypeW\" == classTitle || \"classTypeX\" == classTitle || \"classTypeo\" == classTitle || \"classTypeText\" == classTitle){\n      dom = e.target.parentElement;\n    } else {\n      dom = e.target;\n    }\n    var handler = this.props.customHandler;\n    if(handler){\n      handler({\n        eventType:'fujian',\n        data:{\n          url:dom.dataset.url,\n          cookies: dom.dataset.cookies,\n          text: dom.dataset.text,\n          dbid: dom.dataset.dbid\n        }\n      })\n    }\n  }\n  commit(){\n    var me = this,data=this.props.customData;\n    return <div className='D_choiseFlow'>\n      <div className=\"ysp-header\" >\n        <div onClick={()=>{\n            this.setState({...this.state,commitModal:false,renderModal:true})\n          }}></div>\n        <div>请选择流向</div>\n       </div>\n    \t<div className='D_flowList' style={{display:me.state.peopleFLOW==0?'block':'none'}}>\n      \t{data&&data.commitLZ&&data.commitLZ.map(function(d,t){\n          return (<li className={me.state.flowIndx==t?'changC':''} onClick={()=>{\n              me.handle(t,'Liclick')\n              me.setState({flowIndx:t,peopleFLOW:'a'})\n            }}><span>{d.textC}</span><span style={{display:me.state.flowIndx==t?'block':'none'}}>√</span></li>)\n        })}\n      </div>\n      <div className='D_chiosePeople' style={{display:me.state.peopleFLOW==0?'none':'block'}}>  \n      \t<div className=\"ysp-header\" >\n        <div onClick={()=>{\n            this.setState({...this.state,peopleFLOW:0})\n            me.handle('','closeChiosep')\n          }}></div>\n        <div style={{textAlign:'center'}}>请选择办理人</div>\n        <div style={{paddingRight:'15px'}} onClick = {me.handlerPeople.bind(me)}>确定</div>\n       </div>\n \t\t\t\t<div className='treeBody' style={{display:data.treeBar[0]?'block':'none'}}>\n          {data&&data.treeBar[0]&&data.treeBar.map(function(d,t){\n            return (\n              <div>\n                <li onClick={()=>{\n                  me.handle(t,'flowTitle')\n                }} style={{display:d.dis}} indexs={d.indx}>\n                  <span style={{color:'blue'}}>+</span>\n                  {d.title}\n                </li>\n              \t<div>\n                  {d.array&&d.array.map(function(q,l){\n                    return (<li className='nocolor' onClick={(e)=>{\n                          me.handle({data1:l,data2:d.indx},'flowTitleChild');\n                          var target = e.target;\n                          if(target.getAttribute('class')=='nocolor') {\n                            target.setAttribute('class','blueColor');\n                          }else {\n                            target.setAttribute('class','nocolor');\n                          }\n                        }} style={{display:q.dis}} indexs={q.indx}>{q.text}</li>)\n                  })}\n                </div>\n                \n                <div>\n                \t{\n                    d.array1 && d.array1.map(function(dd,vv){\n                      return(\n                        <div>\n                        \t<li onClick={()=>{\n                            me.handle(t,'flowTitles')\n                          }} style={{display:dd.dis}} indexs={dd.indx}>\n                            <span style={{color:'blue'}}>+</span>\n                            {dd.title}\n                          </li>\n                          \n                          <div style={{'paddingLeft':'40px'}}>\n                            {d.array2&&d.array2.map(function(qq,ll){\n                              return (\n                                <li className='nocolor' onClick={(e)=>{\n                                    me.handle({data1:ll,data2:dd.indx},'flowTitleChilds');\n                                    var target = e.target;\n                                    if(target.getAttribute('class')=='nocolor') {\n                                      target.setAttribute('class','blueColor');\n                                    }else {\n                                      target.setAttribute('class','nocolor');\n                                    }\n                                  }} style={{display:qq.dis}} indexs={qq.indx}>\n                                  {qq.text}\n                                </li>\n                              )\n                            })}\n                          </div>\n                        </div>\n                      )\n                    })\n                  }\n                </div>\n              </div>)\n          })}\n        </div>\n        <div id=\"tres\" >\n          {data&&data.selectApars && data.selectApars.length >1 &&data.selectApars.map(function(d,t){\n            return <li className='pTre' onClick={(e)=>{\n                  me.handle(t,'radiosClick')\n                }}><span style={{display:d.type=='P'?'none':'block'}} className={d.trueFalse=='true'?'changeRadioB':'changeRadio'}></span>{d.text}</li>\n          })}\n          \n          <div className={data.selectApars.length >1 ? 'treeStyle' : ''}>\n          \t{data&&data.selectApar&&data.selectApar.map(function(d,t){\n            return <li className='pTre' onClick={(e)=>{\n                  me.handle(t,'radioClick')\n                }}><span style={{display:d.type=='P'?'none':'block'}} className={d.trueFalse=='true'?'changeRadioB':'changeRadio'}></span>{d.text}</li>\n          })}\n          </div>\n        </div>\n      </div>\n    </div>\n  }\n  apiRender(){\n    var scorllH =document.body.clientHeight-200+'px';\n    var scorllY =document.body.clientHeight-100+'px';\n    var _this=this,data=this.props.customData\n    return(\n    \t<div>\n        <div style={{'height':scorllH,'overflow':'scroll'}}>\n          <div className=\"ysp-content-header\">\n            <span className={this.state.flag == true ? \"ysp-content-header-button\" : \"\"} onClick={this.handlerNR.bind(this)}>内容</span>\n            <span className={this.state.flag1 == true ? \"ysp-content-header-button\" : \"\"} onClick={this.handlerFJ.bind(this)}>附件</span>\n            <span className={this.state.flag2 == true ? \"ysp-content-header-button\" : \"\"}onClick={this.handlerLC.bind(this)}>流程</span>\n          </div>\n          <div className=\"ysp-content-body\">\n            {\n              this.state.flag == true ? \n               <div className=\"ysp-contentSW\">\n                  <div>\n                    <span>题目</span>\n                    <span>{data && data.content[0]}</span>\n                  </div>\n                  <div>\n                    <span>收文文号</span>\n                    <span>{data && data.content[1]}</span>\n                  </div>\n                  <div>\n                    <span>文件密级</span>\n                    <span>{data && data.content[2]}</span>\n                  </div>\n                  <div>\n                    <span>保密期限</span>\n                    <span>{data && data.content[3]}</span>\n                  </div>\n                  <div>\n                    <span>收文日期</span>\n                    <span>{data && data.content[4]}</span>\n                  </div>\n                  <div>\n                    <span>限办日期</span>\n                    <span>{data && data.content[5]}</span>\n                  </div>\n                  <div>\n                    <span>紧急程度</span>\n                    <span>{data && data.content[6]}</span>\n                  </div>\n                  <div>\n                    <span>收文单位</span>\n                    <span>{data && data.content[7]}</span>\n                  </div>\n                  <div>\n                    <span>来文单位</span>\n                    <span>{data && data.content[8]}</span>\n                  </div>\n                  <div>\n                    <span>原文号</span>\n                    <span>{data && data.content[9]}</span>\n                  </div>\n                  <div>\n                    <span>原文日期</span>\n                    <span>{data && data.content[10]}</span>\n                  </div>\n                  <div>\n                    <span>重要收文</span>\n                    <span>{data && data.content[11]}</span>\n                  </div>\n                  <div>\n                    <span>是否归档</span>\n                    <span>{data && data.content[12]}</span>\n                  </div>\n                  <div>\n                    <span>意见</span>\n                    <span style={{\"border-bottom\": \"0px\"}}>\n                      <ATextarea onChange={this.textareaChange.bind(this)}\n                        value={data && data.txyj}></ATextarea>\n                    </span>\n                  </div>\n                  <div>\n                    <span></span>\n                    <span className=\"ysp-contentSW-button\" onClick={this.handlerPZ.bind(this)}>\n                      典型批注\n                    </span>\n                  </div>\n\n                </div>\n                : this.state.flag1 == true ? \n                <div className='D_fujian'>\n                  {data&&data.fujian&&data.fujian.map(function(d,l){\n                    if(d.text=='暂无附件') {\n                      return <div className='D_zanwuFJ'>\n                        {d.text}\n                      </div>\n                    }else {\n                      var typeP,classType\n                      if(d.typeP=='docx') {\n                        typeP='W'\n                        classType='classTypeW'\n                      }else if(d.typeP=='ppt') {\n                        typeP='P'\n                        classType='classTypeP'\n                      }else if(d.typeP=='xls') {\n                        typeP='X'\n                        classType='classTypeX'\n                      }else {\n                        classType='classTypeo'\n                      }\n                      return (\n                        <div className='D_zanwuFJT' onClick={_this.handlerfujian.bind(_this)}\n                          data-url={d.url} data-cookies={d.cookies} data-text={d.text} data-dbid={d.dbid}>\n                          <span className={classType}>{typeP}</span>\n                          <div className=\"classTypeText\">附件：{d.text.replace(/zhengwen/,\"正文\").replace(/caogao/,\"正文\")}</div>\n                        </div>)\n                    }\n                  })}\n                 </div>\n                : this.state.flag2 == true ? \n                <div className='D_LC'>\n                  {data&&data.liucheng&&data.liucheng.map(function(d,t){\n                    if(d.text=='暂无流程') {\n                      return <div className='D_zanwuLC'>{d.text}</div>\n                    }else {\n                     return (<div className='D_liucheng'>\n                      <div>\n                        <span></span>\n                        <span className={data.liuchengNUM[0].num!=t?'d_xian':'abc'}></span>\n                      </div>\n                      <div>\n                        <div>{d.text}</div>\n                        <div>\n                          <p><span></span><span>{d.content}</span></p>\n                          <p><span></span><span>{d.day}</span></p>\n                        </div>\n                      </div>\n                    </div>)\n                    }\n                  })}\n                </div> : ''\n            }\n          </div>\n        </div>\n        {\n          data&&data.but.length == 2 ? \n            <div style={{'background':'#fff','padding':'5px'}}>\n              <div className=\"ysp-content-bottomWC\">\n                <span onClick={()=>{\n                  if(data&&data.content[8]!=''){\n                    this.setState({...this.state,commitModal:true,renderModal:false})\n                  }else {\n                    alert('请填写办理意见')\n                  }\n            }}>完成</span>\n              </div>\n              <div className=\"ysp-content-bottom\">\n              \t<span onClick={this.handlerZC.bind(this)}>暂存</span>\n              \t<span onClick={this.handlerTH.bind(this)}>退回</span>\n              </div>\n            </div> :\n            <div >\n            { data.enniu[1] == \" 阅毕 \" || data.enniu[2] == \" 阅毕 \" ? \n              <div className=\"ysp-content-bottom\">\n                <span onClick={this.handlerZC.bind(this)}>暂存</span>\n                <span onClick={\n                        this.handlerYB.bind(this)    \n                }>阅毕</span>\n          \t\t</div> \n              :\n            <div className=\"ysp-content-bottom\">\n                <span onClick={this.handlerZC.bind(this)}>暂存</span>\n            \t<span onClick={()=>{\n                if(data&&data.content[8]!=''){\n                      this.setState({...this.state,commitModal:true,renderModal:false})\n                    }else {\n                      alert('请填写办理意见')\n                    }\n              }}>完成</span>\n          \t</div> }\n            </div>\n        }\n        {\n          this.state.flag3 == true ? \n            <div className=\"ysp-contentSW-yj\">\n              <div className=\"ysp-header\">\n                <div onClick={this.handlerCY.bind(this)}></div>\n                <div>常用意见</div>\n              </div>\n              <div style={{'height':scorllY,'overflow':'scroll'}}>\n              {\n                data && data.yijian.map(function(d,i){\n                  if(d=='常用意见暂无数据'){\n                    return(\n                  \t<div className=\"ysp-contentSW-yjtitle\">\n                      {d}\n                    </div>\n                  )\n                  }else {\n                    return(\n                  \t<div data-index = {i} onClick={_this.handleryijian.bind(_this)}\n                      className=\"ysp-contentSW-yjtitle\">\n                      {d}\n                    </div>\n                  )\n                  }\n                  \n                })\n              }\n             </div>\n            </div> : \"\"\n        }\n        \n        {\n          this.state.flag4 == true ?\n            <div className=\"ysp-contentSW-th\">\n            \t<div className=\"ysp-header\">\n                <div onClick={_this.handlerTHClose.bind(_this)}></div>\n                <div>退回信息</div>\n              </div>\n              <div style={{'height':scorllY,'overflow':'scroll'}}>\n              {\n                data && data.tuihuiTitle.map(function(d,i){\n                  return(\n                  \t<div className={data.tuihuiTitleFlag[i] ? \"ysp-contentSW-thTitle ysp-contentSW-thTitleColor\" : \"ysp-contentSW-thTitle\"} \n                      data-index={i} onClick={_this.handlerTHTitle.bind(_this)}>\n                      <span className=\"ysp-contentSW-thTitleFitst\">{d[0]}</span>\n                      <span className=\"ysp-contentSW-thTitleSecond\">({d[1]})</span>\n                    </div>\n                  )\n                })\n              }\n             </div>\n            </div> : \"\"\n        }\n      </div>\n    )\n  }\n  render() {\n    var _this=this;\n    return <div ref=\"toTop\">{_this.state.renderModal?_this.apiRender():_this.commit()}</div>\n  }\n}"
